{"version":3,"sources":["model/calorieFunction.ts","model/servingFunction.ts","app/selectors.ts","components/buttons/AddButton.tsx","model/Food.ts","features/day-page/dateSlice.ts","features/day-page/mealStatesSlice.ts","features/day-page/AddMealButton.ts","components/buttons/PrimaryButton.tsx","features/day-page/editModeSlice.ts","features/day-page/DoneButton.ts","features/day-page/EditButton.ts","components/buttons/DangerButton.tsx","features/day-page/NewDayButton.ts","app/hooks.ts","components/buttons/SecondaryButton.tsx","features/download/exportCsv.ts","features/download/DownloadButton.tsx","features/target/editTargetSlice.ts","features/target/ChangeTargetButton.ts","model/Target.ts","components/backgroundColor.ts","components/badge/index.tsx","components/panels/FoodGroupServingGoalBadgePanel.tsx","components/target/TargetDropDown.tsx","features/target/targetSlice.ts","features/target/TargetDropDown.ts","features/target/TargetFoodGroupServingGoalBadgePanel.ts","features/target/TargetLabel.ts","components/target/TargetLabel.tsx","features/target/TargetPanel.ts","components/target/TargetPanel.tsx","features/day-page/Header.ts","components/day-page/Header.tsx","components/FoodGroupLegend.tsx","components/Footer.tsx","components/panels/FoodGroupServingBadgePanel.tsx","components/CalorieSpan.tsx","components/panels/CalorieServingPanel.tsx","features/name-food/FoodCalorieServingPanel.ts","components/buttons/SubmitButton.tsx","components/name-food-form/useNameFoodFormReducer.ts","model/Selectable.ts","components/name-food-form/NameFoodForm.tsx","features/name-food/NameFoodForm.ts","components/BlueStar.tsx","components/BestChoiceLegend.tsx","components/input-form/DisplayText.tsx","components/input-form/FoodNameInputControl.tsx","components/input-form/ServingInputControl.tsx","features/suggestions/convert/CompositeConvertFunctions.ts","features/suggestions/convert/CompositeParserFunctions.ts","features/suggestions/convert/standard-unit/SizeUnit.ts","features/suggestions/convert/standard-unit/UnknownUnit.ts","features/suggestions/convert/standard-unit/index.ts","features/suggestions/convert/variable-unit/DiameterUnit.ts","features/suggestions/convert/variable-unit/index.ts","features/suggestions/convert/index.ts","generated/parser/AmountLexer.js","generated/parser/AmountListener.js","generated/parser/AmountParser.js","features/suggestions/parser/amount.js","features/suggestions/parser/DecomposedAmount.ts","generated/parser/FoodDescriptionLexer.js","generated/parser/FoodDescriptionListener.js","generated/parser/FoodDescriptionParser.js","features/suggestions/parser/foodDescription.js","features/suggestions/parser/DecomposedFoodDescription.ts","features/suggestions/Suggestion.ts","features/suggestions/portion/portions.ts","features/suggestions/serving/servings.ts","features/suggestions/search/unitMiniSearch.ts","features/suggestions/search/foodNameMiniSearch.ts","features/suggestions/search/foodNameSearch.ts","features/suggestions/search/autoCompletion.ts","features/suggestions/generate/calculateServing.ts","features/suggestions/generate/autoSuggestion.ts","features/suggestions/generate/generateSuggestion.ts","components/input-form/useFoodInputFormStateReducer.ts","components/input-form/FoodInputForm.tsx","features/input-form/AddFoodInputForm.ts","features/input-form/UpdateFoodInputForm.ts","features/meal-card/EditFoodButton.ts","features/meal-card/NewFoodButton.ts","components/FoodItem.tsx","features/meal-card/DeleteButton.ts","features/meal-card/DoneButton.ts","features/meal-card/EditButton.ts","features/meal-card/MealCalorieServingPanel.ts","features/meal-card/NameButton.ts","components/meal-card/MealCardHeader.tsx","components/meal-card/EditableMealCard.tsx","components/summary/CalorieSummary.tsx","features/summary/CalorieSummary.ts","components/summary/CompactServingSummary.tsx","components/summary/FullSizeServingSummary.tsx","components/summary/ServingSummary.tsx","features/summary/ServingSummary.ts","components/summary/CalorieServingSummary.tsx","features/summary/CalorieDifference.ts","features/summary/ServingDifference.ts","components/summary/DifferenceSummary.tsx","components/day-page/Summary.tsx","features/day-page/EditableDayPage.ts","components/day-page/EditableDayPage.tsx","components/meal-card/UneditableMealCard.tsx","features/day-page/UneditableDayPage.ts","components/day-page/UneditableDayPage.tsx","features/day-page/DayPage.ts","components/day-page/DayPage.tsx","App.tsx","reportWebVitals.ts","app/reducers.ts","app/store.ts","app/localStorage.ts","index.tsx","features/suggestions/parser/CaseChangingStream.js"],"names":["FOOD_GROUP_CALORIES","getCalories","foodGroup","_","get","calcServingCalories","serving","sum","map","keys","calcFoodCalories","food","calcMealCalories","meal","foods","calcCaloriesTotal","meals","displayCalorieValue","val","numeral","format","_add","n1","n2","defaultTo","add","s1","s2","vegetable","fruit","carbohydrate","proteinDiary","fat","sweet","calcFoodsServingSummary","reduce","calcServingSummary","calcMealsServingSummary","_minus","calcServingDifference","servingGoal","displayServingValue","oneServingOf","set","dateSelector","state","date","editModeSelector","editMode","mealStatesSelector","mealStates","targetSelector","target","diarySelector","createSelector","mealsSelector","totalCaloriesSelector","totalServingSelector","calorieDifferenceSelector","calorieGoal","calcCaloriesDifference","calorie","servingDifferenceSelector","AddButton","props","Button","variant","onClick","icon","faPlus","FOOD_GROUP_ABBREVIATIONS","FOOD_GROUP_DISPAY_NAMES","displayName","today","Date","toLocaleDateString","dateSlice","createSlice","name","initialState","reducers","newDay","actions","newMealState","mealTime","toLocaleTimeString","editState","reset","mealState","undefined","resetAll","forEach","mealStatesSlice","addMeal","push","deleteMeal","action","filter","index","payload","addFood","mealIndex","updateFood","foodIndex","cancelAddFood","replaceFoods","replacedFoodIndices","pullAt","enterMealEditMode","enterMealAddMode","enterMealNameMode","exitMealEditMode","enterFoodEditMode","foodEditIndex","exitFoodEditMode","extraReducers","builder","addCase","connect","dispatch","PrimaryButton","label","editModeSlice","enterEditMode","exitEditMode","DangerButton","useAppSelector","useSelector","SecondaryButton","exportCsv","data","flatMap","foodName","denormalizeFood","options","filename","showLabels","useTextFile","useBom","useKeysAsHeaders","ExportToCsv","generateCsv","DownloadButton","downloadAsCsv","editTargetSlice","enterEditTarget","exitEditTarget","TARGET_1200_CALORIE","TARGET_1400_CALORIE","TARGET_1600_CALORIE","TARGET_1800_CALORIE","TARGET_2000_CALORIE","BACKGROUND_COLORS","backgroundColor","fontFamily","LabelBadge","value","style","Badge","className","InfoLabelBadge","FoodGroupBadge","FoodGroupLabelBadge","FoodGroupServingBadge","displayValue","FoodGroupServingGoalBadge","isMinLimit","FoodGroupServingGoalBadgePanel","menuItem","Dropdown","Item","eventKey","targetSlice","changeTarget","selectedCalorie","targets","onSelect","toNumber","selectedTarget","find","Toggle","id","Menu","fontSize","editTarget","showChangeTargetButton","caloriePanel","TargetFoodGroupServingGoalBadgePanel","ChangeTargetButton","NewDayButton","DoneButton","EditButton","FoodGroupLegend","IconReferLink","rel","href","Icon8WebSiteReferLink","Icons8Referral","FoodGroupLegends","Footer","FoodGroupServingBadgePanel","CalorieSpan","CalorieServingPanel","_state","ownProps","SubmitButton","type","renamedFoodSlice","sources","updateName","selectFood","selected","combine","unselectFood","renamedFood","reducer","errors","selectCount","size","combineReducers","combineName","join","pickBy","obj","initSelectable","onSaveFood","onCancel","initialFoods","useReducer","handleSelectFoodChanged","handleFoodNameChanged","handleSubmitted","event","preventDefault","stopPropagation","useNameFoodFormReducer","fns","Form","noValidate","onSubmit","Group","as","Row","Check","checked","onChange","e","isInvalid","feedback","Label","htmlFor","Control","required","Feedback","FoodCalorieServingPanel","BlueStar","faStar","color","BestChoiceLegend","DisplayText","suggestion","bestChoice","foodDescription","amount","FoodNameInputControl","srOnly","placeholder","updateFoodName","aria-labelledby","invalid","suggestions","updateFoodNameServing","maxWidth","findIndex","ServingInputControl","controlId","calories","toString","useState","servingStr","setServingStr","useEffect","handleChange","useSyncedLocalState","inputMode","min","max","isSupportedUnitType","funcs","unit","head","selectFunction","fromUnit","toUnit","areUnitsConvertible","convert","quantity","selectedFunc","NaN","unitText","canParse","parse","last","measure","systems","small","singular","plural","to_anchor","medium","large","unknown","_convert","configureMeasurements","volume","mass","UNIT_MAP","Map","functions","from","possibilities","includes","to","unitName","words","lowerCase","first","getUnitName","isDiameterUnitName","test","diameter","split","Object","squared","multiply","converter","partial","composeConverter","variableUnitFunctions","standardUnitFunctions","isMeasurementConvertible","measurement","parseUnit","composeParser","serializedATN","atn","antlr4","ATNDeserializer","deserialize","decisionsToDFA","decisionToState","ds","dfa","DFA","AmountLexer","input","_interp","LexerATNSimulator","PredictionContextCache","Lexer","grammarFileName","channelNames","modeNames","literalNames","symbolicNames","ruleNames","EOF","Token","T__0","STRING","DECIMAL","FRACTION","WHOLE_NUMBER","COMMA","WS","AmountListener","ctx","tree","ParseTreeListener","sharedContextCache","AmountParser","ParserATNSimulator","localctx","AmountContext","this","_ctx","enterRule","RULE_amount","_la","enterOuterAlt","_errHandler","sync","_input","LA","match","re","error","RecognitionException","exception","reportError","recover","exitRule","MeasurementContext","RULE_measurement","QuantityContext","RULE_quantity","adaptivePredict","UnitContext","RULE_unit","Parser","parser","parent","invokingState","i","getTypedRuleContexts","getTypedRuleContext","ruleIndex","listener","enterAmount","exitAmount","ParserRuleContext","enterMeasurement","exitMeasurement","getToken","enterQuantity","exitQuantity","getTokens","enterUnit","exitUnit","getCurrentMeasurement","content","AmountDecomposer","amountStart","str","substring","start","column","stop","Fraction","valueOf","isUndefined","SyntaxErrorListener","hasError","_recognizer","_offendingSymbol","_line","_column","_msg","_e","ErrorListener","compose","quantityText","createMeasurement","amountWithUnitText","decompose","chars","InputStream","lowerCaseChars","CaseChangingStream","lexer","errorListener","removeErrorListeners","addErrorListener","tokens","CommonTokenStream","buildParseTrees","decomposer","ParseTreeWalker","DEFAULT","walk","parsed","getContent","alternateMeasurement","FoodDescriptionLexer","FoodDescriptionListener","FoodDescriptionParser","FoodDescriptionContext","RULE_foodDescription","FoodNameContext","RULE_foodName","recoverInline","reportMatch","consume","enterFoodDescription","exitFoodDescription","enterFoodName","exitFoodName","FoodDescriptionDecomposer","isEmpty","foodNameCompleted","substr","unitCompleted","createSuggestion","concat","breakfastPortions","sandwichPortions","saladPortions","soupPortions","mainCoursePortions","sideDishPortions","snackPortions","dessertPortions","beveragePortions","portionSize","vegetableServings","fruitServings","carbohydrateServings","proteinDiaryServings","fatServings","sweetServings","servingSize","METRIC_UNITS","addIndexAsId","miniSearch","list","fullList","MiniSearch","fields","addAll","buildDocuments","servings","portions","partialUnit","autoSuggest","fuzzy","combineWith","res","lookUp","searchFoodServingPortionSize","docs","search","perform","autoComplete","partialFoodName","rank","searchRank","prefixRank","startsWith","foodNameStartsWith","termDistanceRank","terms","distances","term","pos","indexOf","Number","MAX_SAFE_INTEGER","sortBy","minTermDistance","matchedWordRank","word","matchedWordCount","isSuggestionConvertible","parseAmount","measurementsOf","result","findAutoCompletions","suggestionWithAmount","amountAutoCompletions","autoCompleteUnit","slice","findAmountAutoCompletions","shouldCapitalized","capitalize","results","s","findNameSuggestions","servingFor","unitServing","servingAmount","multiplier","isUnitConvertibleTo","measurementFor","normalizedQuantity","isNaN","round","fromPairs","toPairs","generateAutoSuggestion","autoCompletion","nameSuggestion","autoSuggestion","baseOn","createAutoSuggestion","unitOfMeasurement","setSuggestions","setName","setServing","setFoodGroupServing","unsetFoodGroupServing","unset","validationFailed","assign","lessThanZero","debouncedGenerateSuggestions","debounce","foodDescriptionRef","callback","current","autoCompletions","firstAutoCompletion","servingSuggestions","isSuggestionConvertibleFromUnit","convertibleFrom","ranked","findSuggestions","allSuggestions","uniqWith","compact","isEqual","maxWait","generateSuggestions","updateFoodGroupServing","handleSubmit","validateFood","values","checkValidity","FoodInputForm","initialFood","descRef","useRef","setSuggestionsCallback","desc","useFoodInputFormStateReducer","buttonLabel","FoodItem","DefaultMealCardHeader","Card","Header","NameButton","MealCalorieServingPanel","AddMealCardHeader","DeleteButton","EditMealCardHeader","NameMealCardHeader","DefaultMealCard","ListGroup","EditMealCard","UpdateFoodInputForm","EditFoodButton","NewFoodButton","AddMealCard","AddFoodInputForm","NameMealCard","EditableMealCard","CalorieSummary","width","FoodGroupLabel","ServingCell","CompactServingSummary","minWidth","FullSizeServingSummary","ServingSummary","CalorieServingSummary","DifferenceSummary","CalorieDifference","ServingDifference","Summary","Tabs","defaultActiveKey","Tab","title","AddMealButton","UneditableMealCard","App","Container","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","persistedState","serializedState","localStorage","getItem","JSON","err","loadState","store","configureStore","preloadedState","subscribe","throttle","stringify","setItem","saveState","getState","ReactDOM","render","StrictMode","document","getElementById","stream","upper","_stream","_upper","prototype","offset","c","String","fromCodePoint","codePointAt","LT","mark","release","marker","seek","_index","getText","defineProperty","exports"],"mappings":"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","file":"static/js/main.6a3b1cb2.chunk.js","sourcesContent":["import _ from \"lodash\";\nimport numeral from \"numeral\";\nimport { FoodGroup, Serving, Food, Meal } from \"./Food\";\n\nconst FOOD_GROUP_CALORIES = {\n  \"vegetable\": 25,\n  \"fruit\": 60,\n  \"carbohydrate\": 70,\n  \"proteinDiary\": 110,\n  \"fat\": 45,\n  \"sweet\": 75,\n};\n\nexport function getCalories(foodGroup: FoodGroup) {\n  return _.get(FOOD_GROUP_CALORIES, foodGroup, 0);\n}\n\nexport function calcServingCalories(serving: Serving) {\n  const calcCalories = (foodGroup: FoodGroup) => getCalories(foodGroup) * _.get(serving, foodGroup, 0);\n  return _.sum(_.map(_.keys(serving), calcCalories));\n}\n\nexport function calcFoodCalories(food: Food) {\n  return calcServingCalories(food.serving);\n}\n\nexport function calcMealCalories(meal: Meal) {\n  return _.sum(_.map(meal.foods, calcFoodCalories));\n}\n\nexport function calcCaloriesTotal(meals: Meal[]) {\n  return _.sum(_.map(meals, calcMealCalories));\n}\n\nexport function calcCaloriesDifference(meals: Meal[], calorieGoal: number) {\n  return calcCaloriesTotal(meals) - calorieGoal;\n}\n\nexport function displayCalorieValue(val: number | undefined) {\n  if (val) {\n    return numeral(val).format('0');\n  } else {\n    return val;\n  }\n}","import _ from \"lodash\";\nimport numeral from \"numeral\";\nimport { Food, FoodGroup, Meal, Serving } from \"./Food\";\n\nfunction _add(n1: number | undefined, n2: number | undefined) {\n  return _.defaultTo(n1, 0) + _.defaultTo(n2, 0);\n}\n\nexport function add(s1: Serving, s2: Serving): Serving {\n  return {\n    vegetable: _add(s1.vegetable, s2.vegetable),\n    fruit: _add(s1.fruit, s2.fruit),\n    carbohydrate: _add(s1.carbohydrate, s2.carbohydrate),\n    proteinDiary: _add(s1.proteinDiary, s2.proteinDiary),\n    fat: _add(s1.fat, s2.fat),\n    sweet: _add(s1.sweet, s2.sweet),\n  };\n}\n\nexport function calcFoodsServingSummary(foods: Food[]) {\n  return _.reduce(_.map(foods, \"serving\"), add, {});\n}\n\nexport function calcServingSummary(meal: Meal) {\n  return calcFoodsServingSummary(meal.foods);\n}\n\nexport function calcMealsServingSummary(meals: Meal[]) {\n  return _.reduce(_.map(meals, calcServingSummary), add, {});\n}\n\nfunction _minus(n1: number | undefined, n2: number | undefined) {\n  return _.defaultTo(n1, 0) - _.defaultTo(n2, 0);\n}\n\nexport function minus(s1: Serving, s2: Serving): Serving {\n  return {\n    vegetable: _minus(s1.vegetable, s2.vegetable),\n    fruit: _minus(s1.fruit, s2.fruit),\n    carbohydrate: _minus(s1.carbohydrate, s2.carbohydrate),\n    proteinDiary: _minus(s1.proteinDiary, s2.proteinDiary),\n    fat: _minus(s1.fat, s2.fat),\n    sweet: _minus(s1.sweet, s2.sweet),\n  };\n}\n\nexport function calcServingDifference(meals: Meal[], servingGoal: Serving) {\n  return minus(calcMealsServingSummary(meals), servingGoal);\n}\n\nexport function displayServingValue(val: number | undefined) {\n  if (val) {\n    return numeral(val).format('0[.][00]');\n  } else {\n    return val;\n  }\n}\n\nexport function positiveServing(serving: Serving) {\n  return _.pickBy(serving, val => _.defaultTo(val, 0) > 0);\n}\n\nexport function oneServingOf(foodGroup: FoodGroup) {\n  return _.set({} as Serving, foodGroup, 1);\n}\n\nexport function multiply(s: Serving, multiplier: number): Serving {\n  return _.fromPairs(_.toPairs(s).map(([key, val]) => [key, val * multiplier]));\n}\n","import { createSelector } from \"@reduxjs/toolkit\";\nimport _ from \"lodash\";\nimport { calcCaloriesDifference, calcCaloriesTotal } from \"../model/calorieFunction\";\nimport { calcMealsServingSummary, calcServingDifference } from \"../model/servingFunction\";\nimport { RootState } from \"./store\";\n\nexport const dateSelector = (state: RootState) => state.date;\nexport const editModeSelector = (state: RootState) => state.editMode;\nexport const mealStatesSelector = (state: RootState) => state.mealStates;\nexport const targetSelector = (state: RootState) => state.target;\n\nexport const diarySelector = createSelector(\n  dateSelector,\n  mealStatesSelector,\n  (date, mealStates) => ({ date, meals: _.map(mealStates, 'meal') })\n)\n\nexport const mealsSelector = createSelector(\n  mealStatesSelector,\n  (mealStates) => _.map(mealStates, 'meal')\n)\n\nexport const totalCaloriesSelector = createSelector(\n  mealsSelector,\n  (meals) => calcCaloriesTotal(meals)\n)\n\nexport const totalServingSelector = createSelector(\n  mealsSelector,\n  (meals) => calcMealsServingSummary(meals)\n)\n\nexport const calorieDifferenceSelector = createSelector(\n  mealsSelector,\n  targetSelector,\n  (meals, target) => calcCaloriesDifference(meals, target.calorie)\n)\n\nexport const servingDifferenceSelector = createSelector(\n  mealsSelector,\n  targetSelector,\n  (meals, target) => calcServingDifference(meals, target.serving)\n)","import { faPlus } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Button } from \"react-bootstrap\";\n\nexport const AddButton = (props: { onClick: () => void; }) => (\n  <Button variant=\"outline-primary\" onClick={props.onClick}>\n    <FontAwesomeIcon icon={faPlus} />\n  </Button>\n);\n","import _ from \"lodash\";\n\nexport interface Serving {\n  vegetable?: number;\n  fruit?: number;\n  carbohydrate?: number;\n  proteinDiary?: number;\n  fat?: number;\n  sweet?: number;\n}\n\nexport interface Food {\n  name: string;\n  serving: Serving;\n}\n\nexport interface Meal {\n  mealTime: string;\n  foods: Food[];\n}\n\nexport type FoodGroup = \"vegetable\" | \"fruit\" | \"carbohydrate\" | \"proteinDiary\" | \"fat\" | \"sweet\";\n\nexport function newFood(): Food {\n  return {\n    name: \"\",\n    serving: {}\n  }\n}\n\nfunction currentTime() {\n  return new Date().toLocaleTimeString();\n}\n\nexport function newMeal(): Meal {\n  return {\n    mealTime: currentTime(),\n    foods: [],\n  }\n}\n\nconst FOOD_GROUP_ABBREVIATIONS = {\n  \"vegetable\": \"V\",\n  \"fruit\": \"F\",\n  \"carbohydrate\": \"C\",\n  \"proteinDiary\": \"PD\",\n  \"fat\": \"Ft\",\n  \"sweet\": \"S\",\n}\n\nexport function abbreviation(foodGroup: FoodGroup) {\n  return _.get(FOOD_GROUP_ABBREVIATIONS, foodGroup);\n}\n\nconst FOOD_GROUP_DISPAY_NAMES = {\n  \"vegetable\": \"Vegetable\",\n  \"fruit\": \"Fruit\",\n  \"carbohydrate\": \"Carbohydrate\",\n  \"proteinDiary\": \"Protein/Diary\",\n  \"fat\": \"Fat\",\n  \"sweet\": \"Sweet\",\n}\n\nexport function displayName(foodGroup: FoodGroup) {\n  return _.get(FOOD_GROUP_DISPAY_NAMES, foodGroup);\n}","import { createSlice } from \"@reduxjs/toolkit\";\n\nfunction today() {\n  return new Date().toLocaleDateString();\n}\n\nconst dateSlice = createSlice({\n  name: \"date\",\n  initialState: today(),\n  reducers: {\n    newDay(state) {\n      return today();\n    }\n  }\n})\n\nexport const { newDay } = dateSlice.actions;\nexport default dateSlice.reducer;","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport _ from \"lodash\";\nimport { Food, Meal, newMeal } from \"../../model/Food\";\nimport { newDay } from \"./dateSlice\";\n\ntype MealEditState = \"add\" | \"edit\" | \"name\" | undefined;\n\nexport interface MealState {\n  meal: Meal;\n  editState?: MealEditState;\n  foodEditIndex?: number;\n}\n\nfunction newMealState(): MealState {\n  return {\n    meal: newMeal(),\n    editState: \"add\",\n  };\n}\n\nconst initialState = [newMealState()];\n\nconst reset = (mealState: MealState) => mealState.editState = undefined;\n\nconst resetAll = (state: MealState[]) => _.forEach(state, reset);\n\nconst mealStatesSlice = createSlice({\n  name: \"mealStates\",\n  initialState,\n  reducers: {\n    addMeal(state) {\n      resetAll(state);\n      state.push(newMealState())\n    },\n    deleteMeal(state, action: PayloadAction<number>) {\n      return _.filter(state, (_, index) => (index !== action.payload));\n    },\n    addFood(state, action: PayloadAction<{ mealIndex: number; food: Food }>) {\n      const { mealIndex, food } = action.payload;\n      state[mealIndex].meal.foods.push(food);\n    },\n    updateFood(state, action: PayloadAction<{ mealIndex: number; foodIndex: number; food: Food }>) {\n      const { mealIndex, foodIndex, food } = action.payload;\n      state[mealIndex].meal.foods[foodIndex] = food;\n    },\n    cancelAddFood(state, { payload: { mealIndex } }: PayloadAction<{ mealIndex: number; }>) {\n      state[mealIndex].editState = undefined;\n    },\n    replaceFoods(state, { payload: { mealIndex, food, replacedFoodIndices } }: PayloadAction<{ mealIndex: number; food: Food; replacedFoodIndices: number[]}>) {\n      const meal = state[mealIndex].meal;\n      _.pullAt(meal.foods, replacedFoodIndices);\n      meal.foods.push(food);\n      state[mealIndex].editState = undefined;\n    },\n    enterMealEditMode(state, { payload: { mealIndex } }: PayloadAction<{ mealIndex: number; }>) {\n      resetAll(state);\n      state[mealIndex].editState = \"edit\";\n    },\n    enterMealAddMode(state, { payload: { mealIndex } }: PayloadAction<{ mealIndex: number; }>) {\n      state[mealIndex].editState = \"add\";\n    },\n    enterMealNameMode(state, { payload: { mealIndex } }: PayloadAction<{ mealIndex: number; }>) {\n      state[mealIndex].editState = \"name\";\n    },\n    exitMealEditMode(state, { payload: { mealIndex } }: PayloadAction<{ mealIndex: number; }>) {\n      state[mealIndex].editState = undefined;\n    },\n    enterFoodEditMode(state, action: PayloadAction<{ mealIndex: number; foodIndex: number }>) {\n      const { mealIndex, foodIndex } = action.payload;\n      state[mealIndex].foodEditIndex = foodIndex;\n    },\n    exitFoodEditMode(state, { payload: { mealIndex } }: PayloadAction<{ mealIndex: number; }>) {\n      state[mealIndex].foodEditIndex = undefined;\n    },\n  },\n  extraReducers: builder => {\n    builder.addCase(newDay, () => [newMealState()])\n  }\n})\n\nexport const {\n  addMeal, deleteMeal,\n  addFood, updateFood, cancelAddFood, replaceFoods,\n  enterMealEditMode, enterMealAddMode, enterMealNameMode, exitMealEditMode,\n  enterFoodEditMode, exitFoodEditMode,\n} = mealStatesSlice.actions;\n\nexport default mealStatesSlice.reducer;","import { connect } from \"react-redux\";\nimport { AppDispatch } from \"../../app/store\";\nimport { AddButton } from \"../../components/buttons/AddButton\";\nimport { addMeal } from \"./mealStatesSlice\";\n\nconst mapDispatchToProps = (dispatch: AppDispatch) => ({\n  onClick: () => dispatch(addMeal()),\n})\n\nexport default connect(null, mapDispatchToProps)(AddButton);","import { Button } from \"react-bootstrap\"\n\nexport const PrimaryButton = (props: { label: string; onClick: (e: React.MouseEvent<HTMLButtonElement>) => void; }) => (\n  <Button\n    variant=\"outline-primary\"\n    onClick={props.onClick}\n  >\n    {props.label}\n  </Button>\n)","import { createSlice } from \"@reduxjs/toolkit\";\nimport { newDay } from \"./dateSlice\";\n\nconst initialState = true;\n\nconst editModeSlice = createSlice({\n  name: \"editMode\",\n  initialState,\n  reducers: {\n    enterEditMode(state) {\n      return true;\n    },\n    exitEditMode(state) {\n      return false;\n    }\n  },\n  extraReducers: builder => {\n    builder\n      .addCase(newDay, () => true)\n  }\n})\n\nexport const { enterEditMode, exitEditMode } = editModeSlice.actions;\nexport default editModeSlice.reducer;","import { connect } from \"react-redux\";\nimport { AppDispatch } from \"../../app/store\";\nimport { PrimaryButton } from \"../../components/buttons/PrimaryButton\";\nimport { exitEditMode } from \"./editModeSlice\";\n\nconst mapStateToProps = () => ({\n  label: \"Done\",\n})\n\nconst mapDispatchToProps = (dispatch: AppDispatch) => ({\n  onClick: () => dispatch(exitEditMode()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PrimaryButton);","import { connect } from \"react-redux\";\nimport { AppDispatch } from \"../../app/store\";\nimport { PrimaryButton } from \"../../components/buttons/PrimaryButton\";\nimport { enterEditMode } from \"./editModeSlice\";\n\nconst mapStateToProps = () => ({\n  label: \"Edit\",\n})\n\nconst mapDispatchToProps = (dispatch: AppDispatch) => ({\n  onClick: () => dispatch(enterEditMode()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PrimaryButton);","import { Button } from \"react-bootstrap\"\n\nexport const DangerButton = (props: { label: string; onClick: (e: React.MouseEvent<HTMLButtonElement>) => void; }) => (\n  <Button\n    variant=\"outline-danger\"\n    onClick={props.onClick}\n  >\n    {props.label}\n  </Button>\n)","import { connect } from \"react-redux\";\nimport { AppDispatch } from \"../../app/store\";\nimport { DangerButton } from \"../../components/buttons/DangerButton\";\nimport { newDay } from \"./dateSlice\";\n\nconst mapStateToProps = () => ({\n  label: \"New Day\",\n})\n\nconst mapDispatchToProps = (dispatch: AppDispatch) => ({\n  onClick: () => dispatch(newDay()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DangerButton);","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux'\nimport type { RootState, AppDispatch } from './store'\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch = () => useDispatch<AppDispatch>()\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector","import { Button } from \"react-bootstrap\"\n\nexport const SecondaryButton = (props: { label: string; onClick: (e: React.MouseEvent<HTMLButtonElement>) => void; }) => (\n  <Button\n    variant=\"outline-secondary\"\n    onClick={props.onClick}\n  >\n    {props.label}\n  </Button>\n)","import _ from \"lodash\";\nimport { ExportToCsv } from 'export-to-csv';\nimport { Food, Meal } from \"../../model/Food\";\nimport { calcFoodCalories } from \"../../model/calorieFunction\";\n\nconst denormalizeFood = (food: Food) => ({\n  foodName: food.name,\n  vegetable: _.defaultTo(food.serving.vegetable, \"\"),\n  fruit: _.defaultTo(food.serving.fruit, \"\"),\n  carbohydrate: _.defaultTo(food.serving.carbohydrate, \"\"),\n  proteinDiary: _.defaultTo(food.serving.proteinDiary, \"\"),\n  fat: _.defaultTo(food.serving.fat, \"\"),\n  sweet: _.defaultTo(food.serving.sweet, \"\"),\n  calorie: calcFoodCalories(food),\n});\n\nexport default function exportCsv(date: string, meals: Meal[]) {\n\n  const denormalizeMeal = (meal: Meal) => {\n    const { mealTime } = meal;\n    return _.map(meal.foods, food => ({ date, mealTime, ...denormalizeFood(food) }));\n  };\n  const data = _.flatMap(meals, denormalizeMeal);\n\n  const options = {\n    // fieldSeparator: ',',\n    filename: \"diet_diary_\" + date,\n    // quoteStrings: '\"',\n    // decimalSeparator: '.',\n    showLabels: true,\n    //showTitle: true,\n    //title: 'My Awesome CSV',\n    useTextFile: false,\n    useBom: true,\n    useKeysAsHeaders: true,\n    // headers: ['Column 1', 'Column 2', etc...] <-- Won't work with useKeysAsHeaders present!\n  };\n\n  const csvExporter = new ExportToCsv(options);\n\n  csvExporter.generateCsv(data);\n}\n","import { useAppSelector } from \"../../app/hooks\";\nimport { diarySelector } from \"../../app/selectors\";\nimport { SecondaryButton } from \"../../components/buttons/SecondaryButton\";\nimport downloadAsCsv from \"./exportCsv\";\n\nexport const DownloadButton = () => {\n  const {date, meals} = useAppSelector(diarySelector);\n\n  const handleClicked = () => downloadAsCsv(date, meals)\n\n  return (\n    <SecondaryButton label=\"Download\" onClick={handleClicked} />\n  )\n}","import { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState = false;\n\nconst editTargetSlice = createSlice({\n  name: \"editTarget\",\n  initialState,\n  reducers: {\n    enterEditTarget() {\n      return true;\n    },\n    exitEditTarget() {\n      return false;\n    }\n  }\n})\n\nexport const { enterEditTarget, exitEditTarget } = editTargetSlice.actions;\nexport default editTargetSlice.reducer;","import { connect } from \"react-redux\";\nimport { AppDispatch } from \"../../app/store\";\nimport { SecondaryButton } from \"../../components/buttons/SecondaryButton\";\nimport { enterEditTarget } from \"./editTargetSlice\";\n\nconst mapStateToProps = () => ({\n  label: \"Change\",\n})\n\nconst mapDispatchToProps = (dispatch: AppDispatch) => ({\n  onClick: () => dispatch(enterEditTarget()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SecondaryButton);","import { FoodGroup } from \"./Food\";\n\nconst TARGET_1200_CALORIE: Target = {\n  calorie: 1200,\n  serving: {\n    vegetable: 4,\n    fruit: 3,\n    carbohydrate: 4,\n    proteinDiary: 3,\n    fat: 3,\n    sweet: 1,\n  }\n}\n\nconst TARGET_1400_CALORIE: Target = {\n  calorie: 1400,\n  serving: {\n    vegetable: 4,\n    fruit: 4,\n    carbohydrate: 5,\n    proteinDiary: 4,\n    fat: 3,\n    sweet: 1,\n  }\n}\n\nconst TARGET_1600_CALORIE: Target = {\n  calorie: 1600,\n  serving: {\n    vegetable: 5,\n    fruit: 5,\n    carbohydrate: 6,\n    proteinDiary: 5,\n    fat: 3,\n    sweet: 1,\n  }\n}\n\nconst TARGET_1800_CALORIE: Target = {\n  calorie: 1800,\n  serving: {\n    vegetable: 5,\n    fruit: 5,\n    carbohydrate: 7,\n    proteinDiary: 6,\n    fat: 4,\n    sweet: 1,\n  }\n}\n\nconst TARGET_2000_CALORIE: Target = {\n  calorie: 2000,\n  serving: {\n    vegetable: 5,\n    fruit: 5,\n    carbohydrate: 8,\n    proteinDiary: 7,\n    fat: 5,\n    sweet: 1,\n  }\n}\n\nexport const DEFAULT_TARGET = TARGET_1800_CALORIE;\n\nexport interface Target {\n  calorie: number;\n  serving: {\n    vegetable: number;\n    fruit: number;\n    carbohydrate: number;\n    proteinDiary: number;\n    fat: number;\n    sweet: number;\n  };\n}\n\nexport function isMinLimit(foodGroup: FoodGroup) {\n  return (foodGroup === \"vegetable\" || foodGroup === \"fruit\");\n}\n\nexport function allTargets() {\n  return [\n    TARGET_1200_CALORIE,\n    TARGET_1400_CALORIE,\n    TARGET_1600_CALORIE,\n    TARGET_1800_CALORIE,\n    TARGET_2000_CALORIE,\n  ];\n}","import _ from \"lodash\";\nimport { FoodGroup } from \"../model/Food\";\n\nconst BACKGROUND_COLORS = {\n  \"vegetable\": \"green\",\n  \"fruit\": \"teal\",\n  \"carbohydrate\": \"cyan\",\n  \"proteinDiary\": \"blue\",\n  \"fat\": \"orange\",\n  \"sweet\": \"red\",\n};\n\nexport type BadgeBackgroundColor = \"green\" | \"teal\" | \"cyan\"| \"blue\" | \"orange\" | \"red\" ;\n\nexport function backgroundColor(foodGroup: FoodGroup)  {\n  return _.get(BACKGROUND_COLORS, foodGroup, '') as BadgeBackgroundColor;\n}\n","import _ from \"lodash\";\nimport { Badge } from \"react-bootstrap\";\nimport { abbreviation, FoodGroup, Serving } from \"../../model/Food\";\nimport { displayServingValue } from \"../../model/servingFunction\";\nimport { isMinLimit } from \"../../model/Target\";\nimport { backgroundColor, BadgeBackgroundColor } from \"../backgroundColor\";\n\nconst fontFamily = \"Arial Narrow, Arial, sans-serif\";\n\nconst LabelBadge = (props: { backgroundColor: BadgeBackgroundColor; value: string | number | undefined; }) => {\n  const { backgroundColor, value } = props;\n  const style: React.CSSProperties = {\n    backgroundColor,\n    fontFamily,\n  };\n  return (<Badge className=\"text-white m-1\" style={style}>{value}</Badge>);\n}\n\nexport const InfoLabelBadge = (props: { value: string; }) => (\n  <Badge className=\"bg-light m-1\" style={{ fontFamily }}>{props.value}</Badge>\n);\n\nconst FoodGroupBadge = (props: { foodGroup: FoodGroup; value: string | number | undefined; }) => (\n  <LabelBadge backgroundColor={backgroundColor(props.foodGroup)} value={props.value} />\n)\n\nexport const FoodGroupLabelBadge = (props: { foodGroup: FoodGroup; }) => (\n  <LabelBadge backgroundColor={backgroundColor(props.foodGroup)} value={abbreviation(props.foodGroup)} />\n)\n\nexport const FoodGroupServingBadge = (props: { foodGroup: FoodGroup; serving: Serving; }) => {\n  const { foodGroup, serving } = props;\n  const displayValue = displayServingValue(_.get(serving, foodGroup))\n  return (<FoodGroupBadge foodGroup={foodGroup} value={displayValue} />);\n}\n\nexport const FoodGroupServingGoalBadge = (props: { foodGroup: FoodGroup; serving: Serving;}) => {\n  const { foodGroup, serving } = props;\n  const value = _.get(serving, foodGroup);\n  const displayValue = isMinLimit(foodGroup) ? value + \"+\" : value;\n  return (<FoodGroupBadge foodGroup={foodGroup} value={displayValue} />);\n}\n","import { Serving } from \"../../model/Food\";\nimport { FoodGroupServingGoalBadge } from \"../badge\";\n\nexport const FoodGroupServingGoalBadgePanel = (props: { serving: Serving; }) => (\n  <div>\n    <FoodGroupServingGoalBadge foodGroup=\"vegetable\" serving={props.serving} />\n    <FoodGroupServingGoalBadge foodGroup=\"fruit\" serving={props.serving} />\n    <FoodGroupServingGoalBadge foodGroup=\"carbohydrate\" serving={props.serving} />\n    <FoodGroupServingGoalBadge foodGroup=\"proteinDiary\" serving={props.serving} />\n    <FoodGroupServingGoalBadge foodGroup=\"fat\" serving={props.serving} />\n    <FoodGroupServingGoalBadge foodGroup=\"sweet\" serving={props.serving} />\n  </div>\n);\n","import _ from \"lodash\";\nimport { Dropdown } from \"react-bootstrap\";\nimport { Target } from \"../../model/Target\";\nimport { FoodGroupServingGoalBadgePanel } from \"../panels/FoodGroupServingGoalBadgePanel\";\n\nconst menuItem = (target: Target) => (\n  <Dropdown.Item key={target.calorie} eventKey={target.calorie}>\n    {target.calorie}{' '} Cal.<FoodGroupServingGoalBadgePanel serving={target.serving} />\n  </Dropdown.Item>\n)\n\nexport const TargetDropDown = (props: { selectedCalorie: number; targets: Target[]; onSelect: (target: Target) => void; }) => {\n  const handleSelect = (eventKey: any) => {\n    const selectedCalorie = _.toNumber(eventKey);\n    const selectedTarget = _.find(props.targets, { 'calorie': selectedCalorie });\n    if (selectedTarget) {\n      props.onSelect(selectedTarget);\n    }\n  };\n\n  return (\n    <Dropdown onSelect={handleSelect}>\n      <Dropdown.Toggle variant=\"outline-info\" id=\"dropdown-goal\">\n        {props.selectedCalorie}\n      </Dropdown.Toggle>\n\n      <Dropdown.Menu>\n        {_.map(props.targets, menuItem)}\n      </Dropdown.Menu>\n    </Dropdown>\n  );\n};\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { DEFAULT_TARGET, Target } from \"../../model/Target\";\n\nconst initialState = DEFAULT_TARGET;\n\nconst targetSlice = createSlice({\n  name: \"target\",\n  initialState,\n  reducers: {\n    changeTarget(state, action: PayloadAction<Target>) {\n      return action.payload;\n    }\n  }\n})\n\nexport const { changeTarget } = targetSlice.actions;\nexport default targetSlice.reducer;","import { connect } from \"react-redux\";\nimport { AppDispatch, RootState } from \"../../app/store\";\nimport { TargetDropDown } from \"../../components/target/TargetDropDown\";\nimport { allTargets, Target } from \"../../model/Target\";\nimport { exitEditTarget } from \"./editTargetSlice\";\nimport { changeTarget } from \"./targetSlice\";\n\nconst mapStateToProps = (state: RootState) => ({\n  selectedCalorie: state.target.calorie,\n  targets: allTargets(),\n})\n\nconst mapDispatchToProps = (dispatch: AppDispatch) => ({\n  onSelect: (target: Target) => { dispatch(changeTarget(target)); dispatch(exitEditTarget()); },\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TargetDropDown);","import { connect } from \"react-redux\";\nimport { RootState } from \"../../app/store\";\nimport { FoodGroupServingGoalBadgePanel } from \"../../components/panels/FoodGroupServingGoalBadgePanel\";\n\nconst mapStateToProps = (state: RootState) => ({\n  serving: state.target.serving,\n})\n\nexport default connect(mapStateToProps)(FoodGroupServingGoalBadgePanel);","import { connect } from \"react-redux\";\nimport { RootState } from \"../../app/store\";\nimport { TargetLabel } from \"../../components/target/TargetLabel\";\n\nconst mapStateToProps = (state: RootState) => ({\n  calorie: state.target.calorie,\n})\n\nexport default connect(mapStateToProps)(TargetLabel);","export const TargetLabel = (props: { calorie: number; }) => (\n  <span className=\"text-white bg-info border rounded px-1\" style={{ fontSize: '24px' }}>{props.calorie}</span>\n);\n","import { connect } from \"react-redux\";\nimport { RootState } from \"../../app/store\";\nimport { TargetPanel } from \"../../components/target/TargetPanel\";\n\nconst mapStateToProps = (state: RootState) => ({\n  editMode: state.editMode,\n  editTarget: state.editTarget,\n})\n\nexport default connect(mapStateToProps)(TargetPanel);","import ChangeTargetButton from \"../../features/target/ChangeTargetButton\";\nimport TargetDropDown from \"../../features/target/TargetDropDown\";\nimport TargetFoodGroupServingGoalBadgePanel from \"../../features/target/TargetFoodGroupServingGoalBadgePanel\";\nimport TargetLabel from \"../../features/target/TargetLabel\";\n\nexport const TargetPanel = (props: { editMode: boolean; editTarget: boolean }) => {\n  const { editMode, editTarget } = props;\n  const showChangeTargetButton = (editMode && !editTarget);\n\n  const caloriePanel = editTarget ? <TargetDropDown /> : <TargetLabel />;\n\n  return (\n    <div className=\"d-flex align-items-center\">\n      <div>\n        <div className=\"d-flex flex-nowrap  align-items-end\">\n          Target:&nbsp; {caloriePanel} &nbsp;Cal.\n        </div>\n        <TargetFoodGroupServingGoalBadgePanel />\n      </div>&nbsp;\n      {showChangeTargetButton && <ChangeTargetButton />}\n    </div>\n  );\n};\n","import { connect } from \"react-redux\";\nimport { dateSelector, editModeSelector } from \"../../app/selectors\";\nimport { RootState } from \"../../app/store\";\nimport { Header } from \"../../components/day-page/Header\";\n\nconst mapStateToProps = (state: RootState) => ({\n  date: dateSelector(state),\n  editMode: editModeSelector(state),\n})\n\nexport default connect(mapStateToProps)(Header);","import DoneButton from \"../../features/day-page/DoneButton\";\nimport EditButton from \"../../features/day-page/EditButton\";\nimport NewDayButton from \"../../features/day-page/NewDayButton\";\nimport { DownloadButton } from \"../../features/download/DownloadButton\";\nimport TargetPanel from \"../../features/target/TargetPanel\";\n\nexport const Header = (props: { date: string; editMode: boolean; }) => (\n  <div className=\"d-flex flex-column flex-md-row justify-content-between align-items-center\">\n    <h1 className=\"order-md-1\">{props.date}</h1>\n    <div className=\"order-md-0\">\n      <TargetPanel />\n    </div>\n    <div className=\"order-md-2\">\n      {props.editMode ? <NewDayButton /> : <DownloadButton />}{' '}\n      {props.editMode ? <DoneButton /> : <EditButton />}\n    </div>\n  </div>\n)\n","import { displayName, FoodGroup } from \"../model/Food\";\nimport { FoodGroupLabelBadge } from \"./badge\";\n\nexport const FoodGroupLegend = (props: { foodGroup: FoodGroup; }) => {\n  const { foodGroup } = props;\n  return (\n    <div className=\"d-flex justify-content-center border-0 rounded bg-light\">\n      <FoodGroupLabelBadge foodGroup={foodGroup} />\n      <div>{displayName(foodGroup)}</div>\n    </div>\n  );\n};\n","import { FoodGroupLegend } from \"./FoodGroupLegend\";\n\nconst IconReferLink = () => (\n  <a\n    target=\"_blank\"\n    rel=\"noreferrer\"\n    href=\"https://icons8.com/icons/set/healthy-food-calories-calculator\"\n  >\n    Healthy Food Calories Calculator icon\n  </a>\n)\n\nconst Icon8WebSiteReferLink = () => (\n  <a target=\"_blank\" rel=\"noreferrer\" href=\"https://icons8.com\">Icons8</a>\n)\n\nconst Icons8Referral = () => {\n  return (\n    <p style={{ fontSize: \"smaller\" }}>\n      <IconReferLink /> icon by <Icon8WebSiteReferLink />\n    </p>\n  );\n};\n\nconst FoodGroupLegends = () => (\n  <div className=\"d-flex justify-content-between flex-fill flex-wrap\">\n    <FoodGroupLegend foodGroup=\"vegetable\" />\n    <FoodGroupLegend foodGroup=\"fruit\" />\n    <FoodGroupLegend foodGroup=\"carbohydrate\" />\n    <FoodGroupLegend foodGroup=\"proteinDiary\" />\n    <FoodGroupLegend foodGroup=\"fat\" />\n    <FoodGroupLegend foodGroup=\"sweet\" />\n  </div>\n);\n\nexport const Footer = () => (\n  <div className=\"d-flex flex-column align-items-center\">\n    <div className=\"d-block d-sm-none\">\n      <FoodGroupLegends />\n    </div>\n    <Icons8Referral />\n  </div>\n);","import { Serving } from \"../../model/Food\";\nimport { FoodGroupServingBadge } from \"../badge\";\n\nexport const FoodGroupServingBadgePanel = (props: { serving: Serving; }) => (\n  <span>\n    <FoodGroupServingBadge foodGroup=\"vegetable\" serving={props.serving} />\n    <FoodGroupServingBadge foodGroup=\"fruit\" serving={props.serving} />\n    <FoodGroupServingBadge foodGroup=\"carbohydrate\" serving={props.serving} />\n    <FoodGroupServingBadge foodGroup=\"proteinDiary\" serving={props.serving} />\n    <FoodGroupServingBadge foodGroup=\"fat\" serving={props.serving} />\n    <FoodGroupServingBadge foodGroup=\"sweet\" serving={props.serving} />\n  </span>\n);\n","import { displayCalorieValue } from \"../model/calorieFunction\";\n\nexport const CalorieSpan = (props: { value: number; }) => <span>{displayCalorieValue(props.value)}{' '}Cal.</span>;\n","import { Serving } from \"../../model/Food\";\nimport { FoodGroupServingBadgePanel } from \"./FoodGroupServingBadgePanel\";\nimport { CalorieSpan } from \"../CalorieSpan\";\n\nexport const CalorieServingPanel = (props: { calorie: number; serving: Serving}) => (\n  <div className=\"d-flex justify-content-between align-items-center\">\n    <div className=\"mr-1\"><CalorieSpan value={props.calorie} /></div>\n    <FoodGroupServingBadgePanel serving={props.serving} />\n  </div>\n\n);\n","import { connect } from \"react-redux\";\nimport { CalorieServingPanel } from \"../../components/panels/CalorieServingPanel\";\nimport { calcFoodCalories } from \"../../model/calorieFunction\";\nimport { Food } from \"../../model/Food\";\n\nconst mapStateToProps = (_state: any, ownProps: { food: Food; }) => ({\n  calorie: calcFoodCalories(ownProps.food),\n  serving: ownProps.food.serving,\n})\n\nexport default connect(mapStateToProps)(CalorieServingPanel);","import { Button } from \"react-bootstrap\";\n\nexport const SubmitButton = (props: { label: string; }) => (\n  <Button\n    variant=\"outline-primary\"\n    type=\"submit\"\n  >\n    {props.label}\n  </Button>\n)","import { combineReducers, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport _ from \"lodash\";\nimport { useReducer } from \"react\";\nimport { Food, newFood } from \"../../model/Food\";\nimport { initSelectable, Selectable } from \"../../model/Selectable\";\nimport { calcFoodsServingSummary, positiveServing } from \"../../model/servingFunction\";\n\nconst renamedFoodSlice = createSlice({\n  name: \"renamedFood\",\n  initialState: {\n    sources: [] as (Food & Selectable)[],\n    target: newFood(),\n  },\n  reducers: {\n    updateName(state, action: PayloadAction<string>) {\n      state.target.name = action.payload;\n    },\n    selectFood(state, action: PayloadAction<number>) {\n      state.sources[action.payload].selected = true;\n      state.target = combine(state.sources);\n    },\n    unselectFood(state, action: PayloadAction<number>) {\n      state.sources[action.payload].selected = false;\n      state.target = combine(state.sources);\n    },\n  }\n})\nconst { updateName, selectFood, unselectFood } = renamedFoodSlice.actions;\nconst renamedFood = renamedFoodSlice.reducer;\n\nconst errorsSlice = createSlice({\n  name: \"errors\",\n  initialState: {\n    foodName: false,\n    selectCount: 0,\n  },\n  reducers: {},\n  extraReducers: builder => {\n    builder\n      .addCase(updateName, (state, action) => { \n        state.foodName = (_.size(action.payload) === 0);\n      })\n      .addCase(selectFood, state => {\n        state.foodName = false;\n        state.selectCount++;\n      })\n      .addCase(unselectFood, state => {\n        state.selectCount--;\n      })\n  }\n})\nconst errors = errorsSlice.reducer;\n\nconst reducer = combineReducers({\n  renamedFood,\n  errors,\n})\n\nconst selected = (foods: (Food & Selectable)[]) =>\n  _.filter(foods, { selected: true });\n\nconst combineName = (foods: (Food & Selectable)[]) =>\n  _.join(_.map(selected(foods), \"name\"), \", \");\n\nconst combine = (foods: (Food & Selectable)[]) => ({\n  name: combineName(foods),\n  serving: positiveServing(calcFoodsServingSummary(selected(foods))),\n})\n\nconst initialState = (foods: Food[]) => {\n  const sources = _.map(foods, food => initSelectable(food, true));\n  const selectCount = _.size(selected(sources));\n\n  return {\n    renamedFood: {\n      sources,\n      target: combine(sources),\n    },\n    errors: {\n      foodName: false,\n      selectCount,\n    }\n  }\n}\n\nconst checkValidity = (errors: {foodName: boolean; selectCount: number}) => {\n  const failed =  errors.foodName || errors.selectCount < 2;\n  return !failed;\n}\n\nexport default function useNameFoodFormReducer(initialFoods: Food[], onSaveFood: (food: Food, replacedFoodIndices: number[]) => void) {\n\n  const [state, dispatch] = useReducer(reducer, initialState(initialFoods));\n  const handleSelectFoodChanged = (index: number, selected: boolean) => selected ? dispatch(selectFood(index)) : dispatch(unselectFood(index));\n  const handleFoodNameChanged = (name: string) => dispatch(updateName(name));\n\n  const handleSubmitted = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    event.stopPropagation();\n\n    const { target, sources } = state.renamedFood;\n    if (checkValidity(state.errors)) {\n      onSaveFood(target, _.map(sources, (food, index) => food.selected ? index : -1));\n    }\n  }\n\n  const fns = {\n    handleSelectFoodChanged,\n    handleFoodNameChanged,\n    handleSubmitted,\n  }\n\n  return [state,fns] as [typeof state, typeof fns];\n}","export interface Selectable {\n  selected: boolean;\n}\n\nexport function initSelectable<T>(obj: T, selected = false): (T & Selectable) {\n  return {\n    ...obj,\n    selected\n  }\n};\n","import { Form } from \"react-bootstrap\";\nimport FoodCalorieServingPanel from \"../../features/name-food/FoodCalorieServingPanel\";\nimport { Food } from \"../../model/Food\";\nimport { SecondaryButton } from \"../buttons/SecondaryButton\";\nimport { SubmitButton } from \"../buttons/SubmitButton\";\nimport { FoodGroupServingBadgePanel } from \"../panels/FoodGroupServingBadgePanel\";\nimport useNameFoodFormReducer from \"./useNameFoodFormReducer\";\n\ninterface Props {\n  foods: Food[];\n  onSaveFood: (food: Food, replacedFoodIndices: number[]) => void;\n  onCancel: () => void;\n}\n\nexport const NameFoodForm = (props: Props) => {\n  const [state, fns] = useNameFoodFormReducer(props.foods, props.onSaveFood);\n  const { renamedFood, errors } = state;\n  const { handleSelectFoodChanged, handleFoodNameChanged, handleSubmitted } = fns;\n\n  return (\n    <Form\n      noValidate\n      onSubmit={handleSubmitted}\n      className=\"border p-1\"\n    >\n\n      <Form.Group as={Form.Row} className=\"d-flex flex-column flex-wrap mx-1\">\n        {renamedFood.sources.map((food, index) =>\n          <div key={index} className=\"d-flex flex-inline\">\n            <Form.Check\n              type=\"checkbox\"\n              label={food.name}\n              checked={food.selected}\n              onChange={e => handleSelectFoodChanged(index, e.target.checked)}\n              isInvalid={errors.selectCount < 2}\n              feedback=\"Please select at least two foods to rename.\"\n              className=\"mr-auto\"\n            />\n            <FoodGroupServingBadgePanel serving={food.serving}/>\n          </div>\n        )}\n      </Form.Group>\n\n      <Form.Group as={Form.Row} className=\"ml-1 mr-1\">\n        <Form.Label htmlFor=\"inputFoodName\">New food name</Form.Label>\n        <Form.Control\n          id=\"inputFoodName\"\n          type=\"text\"\n          value={renamedFood.target.name}\n          onChange={e => handleFoodNameChanged(e.target.value)}\n          required\n          isInvalid={errors.foodName}\n        />\n        <Form.Control.Feedback type=\"invalid\">\n          Please enter food name.\n        </Form.Control.Feedback>\n      </Form.Group>\n\n      <div className=\"d-flex justify-content-end\" >\n        <div className=\"mr-auto\">\n          <FoodCalorieServingPanel food={renamedFood.target} />\n        </div>\n        <div className=\"d-flex justify-content-end\">\n          <div className=\"mr-1 order-sm-1\">\n            <SecondaryButton label=\"Cancel\" onClick={props.onCancel} />\n          </div>\n          <div className=\"mr-1 order-sm-0\" >\n            <SubmitButton label=\"Save\" />\n          </div>\n        </div>\n      </div>\n    </Form>\n  )\n}","import { connect } from \"react-redux\";\nimport { mealsSelector } from \"../../app/selectors\";\nimport { AppDispatch, RootState } from \"../../app/store\";\nimport { NameFoodForm } from \"../../components/name-food-form/NameFoodForm\";\nimport { Food } from \"../../model/Food\";\nimport { exitMealEditMode, replaceFoods } from \"../day-page/mealStatesSlice\";\n\nconst mapStateToProps = (state: RootState, ownProps: { mealIndex: number }) => ({\n  foods: mealsSelector(state)[ownProps.mealIndex].foods,\n})\n\nconst mapDispatchToProps = (dispatch: AppDispatch, { mealIndex }: { mealIndex: number }) => ({\n  onSaveFood: (food: Food, replacedFoodIndices: number[]) => dispatch(replaceFoods({ mealIndex, food, replacedFoodIndices })),\n  onCancel: () => dispatch(exitMealEditMode({ mealIndex })),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NameFoodForm);","import { faStar } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nexport const BlueStar = () => (\n  <FontAwesomeIcon icon={faStar} style={{ color: \"blue\" }} />\n);\n","import { BlueStar } from \"./BlueStar\";\n\nexport const BestChoiceLegend = () => (\n  <div className=\"border-0 rounded bg-light\">\n    <BlueStar /><span>&nbsp;Best choice</span>\n  </div>\n)","import { ComboboxOptionText } from \"@reach/combobox\";\nimport { Fragment } from \"react\";\nimport { Suggestion } from \"../../features/suggestions\";\nimport { BlueStar } from \"../BlueStar\";\nimport { FoodGroupServingBadgePanel } from \"../panels/FoodGroupServingBadgePanel\";\nimport { calcServingCalories } from \"../../model/calorieFunction\";\nimport { CalorieSpan } from \"../CalorieSpan\";\n\nexport const DisplayText = (props: { suggestion: Suggestion; }) => {\n  const { bestChoice, serving } = props.suggestion;\n  return (\n    <Fragment>\n      {bestChoice && <BlueStar />}\n      <ComboboxOptionText />\n      {serving &&\n        <Fragment>\n          <FoodGroupServingBadgePanel serving={serving} />\n          <CalorieSpan value={calcServingCalories(serving)} />\n        </Fragment>\n      }\n    </Fragment>\n  );\n};\n","import { Form } from \"react-bootstrap\";\nimport {\n  Combobox,\n  ComboboxInput,\n  ComboboxPopover,\n  ComboboxList,\n  ComboboxOption\n} from \"@reach/combobox\";\nimport \"@reach/combobox/styles.css\";\nimport { Fragment } from \"react\";\nimport { Suggestion } from \"../../features/suggestions\";\nimport { BestChoiceLegend } from \"../BestChoiceLegend\";\nimport _ from \"lodash\";\nimport { Serving } from \"../../model/Food\";\nimport { DisplayText } from \"./DisplayText\";\n\nfunction foodDescription(suggestion: Suggestion) {\n  if (suggestion.amount) {\n    return suggestion.foodName + \" \" + suggestion.amount;\n  } else {\n    return suggestion.foodName;\n  }\n}\n\nfunction hasBestChoice(suggestions: Suggestion[]) {\n  return _.findIndex(suggestions, { 'bestChoice': true }) >= 0;\n}\n\nexport const FoodNameInputControl = (props: {\n  foodName: string;\n  suggestions: Suggestion[];\n  invalid?: boolean;\n  updateFoodName: (name: string) => void;\n  updateFoodNameServing: (name: string, serving?: Serving) => void;\n}) => (\n  <Fragment>\n    <Form.Label htmlFor=\"inputFoodName\" srOnly>Food name</Form.Label>\n    <Combobox className=\"w-100\">\n      <ComboboxInput\n        id=\"inputFoodName\"\n        type=\"text\"\n        value={props.foodName}\n        required\n        placeholder=\"Broccoli steamed 1 cup\"\n        onChange={e => props.updateFoodName(e.target.value)}\n        aria-labelledby=\"inputFoodName\"\n        className={props.invalid ? \"form-control is-invalid\" : \"form-control\"} />\n      <ComboboxPopover>\n        <ComboboxList aria-labelledby=\"inputFoodName\">\n          {props.suggestions.map((suggestion, index) => (\n            <ComboboxOption\n              key={index}\n              value={foodDescription(suggestion)}\n              onClick={() => props.updateFoodNameServing(foodDescription(suggestion), suggestion.serving)}>\n              <DisplayText suggestion={suggestion} />\n            </ComboboxOption>\n          ))}\n        </ComboboxList>\n        <div style={{ maxWidth: \"100px\" }}>\n          {hasBestChoice(props.suggestions) && <BestChoiceLegend />}\n        </div>\n      </ComboboxPopover>\n    </Combobox>\n    <Form.Control.Feedback type=\"invalid\">\n      Please enter food name.\n    </Form.Control.Feedback>\n  </Fragment>\n);\n","import _ from \"lodash\";\nimport { useEffect, useState } from \"react\";\nimport { Form } from \"react-bootstrap\";\nimport { getCalories } from \"../../model/calorieFunction\";\nimport { FoodGroup, Serving } from \"../../model/Food\";\nimport { FoodGroupLabelBadge, InfoLabelBadge } from \"../badge\";\n\nfunction useSyncedLocalState(props: Props) {\n  const { foodGroup, serving } = props;\n  const [servingStr, setServingStr] = useState(_.get(serving, foodGroup) || '');\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const val = e.target.value;\n    setServingStr(val);\n    props.onChange(foodGroup, _.toNumber(val));\n  }\n\n  useEffect(() => {\n    // syncing with parent state\n    setServingStr(_.get(serving, foodGroup) || '');\n  }, [foodGroup, serving]);\n\n  return { servingStr, handleChange };\n}\n\ninterface Props {\n  foodGroup: FoodGroup;\n  serving: Serving;\n  isInvalid?: boolean;\n  onChange: (foodGroup: FoodGroup, serving: number) => void;\n}\n\nexport const ServingInputControl = (props: Props) => {\n  const { foodGroup, isInvalid } = props;\n  const controlId = \"formServing\" + foodGroup;\n  const calories = _.toString(getCalories(foodGroup)) + \" Cal.\";\n\n  const { servingStr, handleChange } = useSyncedLocalState(props);\n\n  return (\n    <Form.Group controlId={controlId} className=\"d-flex flex-column align-items-end border rounded mx-1\">\n      <div>\n        <FoodGroupLabelBadge foodGroup={foodGroup} />\n        <InfoLabelBadge value={calories} />\n      </div>\n      <Form.Control\n        type=\"number\"\n        inputMode=\"decimal\"\n        min={0}\n        max={9.99}\n        value={servingStr}\n        isInvalid={isInvalid}\n        onChange={handleChange}\n      />\n      <Form.Control.Feedback type=\"invalid\" style={{ maxWidth: \"100px\" }}>Good one!  Please enter a positive number.</Form.Control.Feedback>\n    </Form.Group>\n  );\n};\n","import _ from \"lodash\";\nimport { ConvertFunctions } from \"./ConvertFunctions\";\n\nfunction isSupportedUnitType<T>(funcs: ConvertFunctions<T>[], unit: any) {\n  const selected = _.head(_.filter(funcs, function ({ isSupportedUnitType }) {\n    return isSupportedUnitType(unit);\n  }));\n  return selected ? true : false;\n}\n\nfunction selectFunction<T>(funcs: ConvertFunctions<T>[], fromUnit: T, toUnit: T) {\n  return _.head(_.filter(funcs, function ({ isSupportedUnitType, areUnitsConvertible }) {\n    return isSupportedUnitType(fromUnit)\n      && isSupportedUnitType(toUnit)\n      && areUnitsConvertible(fromUnit, toUnit);\n  }));\n}\n\nfunction areUnitsConvertible<T>(funcs: ConvertFunctions<T>[], fromUnit: T, toUnit: T) {\n  const selectedFunc = selectFunction(funcs, fromUnit, toUnit);\n  return selectedFunc ? true : false;\n}\n\nfunction convert<T>(funcs: ConvertFunctions<T>[], quantity: number, unit: T, toUnit: T) {\n  const selectedFunc = selectFunction(funcs, unit, toUnit);\n  if (selectedFunc) {\n    return selectedFunc.convert(quantity, unit, toUnit);\n  } else {\n    return NaN;\n  }\n}\n\nexport default function compose<T>(...funcs: ConvertFunctions<any>[]): ConvertFunctions<T> {\n  return {\n    isSupportedUnitType: _.partial(isSupportedUnitType, funcs),\n    areUnitsConvertible: _.partial(areUnitsConvertible, funcs),\n    convert: _.partial(convert, funcs),\n  }\n}","import _ from \"lodash\";\nimport { ParserFunctions } from \"./ParserFunctions\";\n\nfunction selectFunction<T>(funcs: ParserFunctions<T>[], unitText: string | undefined) {\n  return _.head(_.filter(funcs, function({canParse}) {\n    return canParse(unitText);\n  }));\n}\n\nfunction canParse<T>(funcs: ParserFunctions<T>[], unitText: string | undefined) {\n  const selectedFunc = selectFunction(funcs, unitText);\n  return selectedFunc ? true : false;\n}\n\nfunction parse<T>(funcs: ParserFunctions<T>[], unitText: string | undefined) {\n  const selectedFunc = selectFunction(funcs, unitText);\n  if (selectedFunc) {\n    return selectedFunc.parse(unitText);\n  } else {\n    return _.last(funcs)!.parse(unitText);\n  }\n}\n\nexport default function compose<T>(...funcs: ParserFunctions<T>[]): ParserFunctions<T> {\n  return {\n    canParse: _.partial(canParse, funcs),\n    parse: _.partial(parse, funcs),\n  };\n}","import { Measure, Unit } from \"convert-units\";\n\nexport type SizeSystems = \"size\";\n\nexport type SizeUnits =\n  | \"small\"\n  | \"medium\"\n  | \"large\";\n\nconst size: Record<SizeUnits, Unit> = {\n  small: {\n    name: {\n      singular: 'Small',\n      plural: 'Small',\n    },\n    to_anchor: 0.75,\n  },\n  medium: {\n    name: {\n      singular: 'Medium',\n      plural: 'Medium',\n    },\n    to_anchor: 1,\n  },\n  large: {\n    name: {\n      singular: 'Large',\n      plural: 'Large',\n    },\n    to_anchor: 1.5,\n  },\n}\n\nconst measure: Measure<SizeSystems, SizeUnits> = {\n  systems: {\n    size,\n  },\n};\n\nexport default measure;","import { Measure, Unit } from \"convert-units\";\n\nexport type UnknownSystems = \"unknown\";\n\nexport type UnknownUnits = \"unknown\";\n\nconst unknown: Record<UnknownUnits, Unit> = {\n  unknown: {\n    name: {\n      singular: 'Unknown',\n      plural: 'Unknown',\n    },\n    to_anchor: 1,\n  },\n}\n\nconst measure: Measure<UnknownSystems, UnknownUnits> = {\n  systems: {\n    unknown,\n  },\n};\n\nexport default measure;","import configureMeasurements, { mass, MassSystems, MassUnits, volume, VolumeSystems, VolumeUnits } from \"convert-units\";\nimport _ from \"lodash\";\nimport size, { SizeSystems, SizeUnits } from \"./SizeUnit\";\nimport unknown, { UnknownSystems, UnknownUnits } from \"./UnknownUnit\";\nimport { ConvertFunctions } from \"../ConvertFunctions\";\nimport { ParserFunctions } from \"../ParserFunctions\";\n\ntype Measures = \"volume\" | \"mass\" | \"size\" | \"unknown\";\ntype Systems = VolumeSystems | MassSystems | SizeSystems | UnknownSystems;\ntype Units = VolumeUnits | MassUnits | SizeUnits | UnknownUnits;\nconst _convert = configureMeasurements<Measures, Systems, Units>({\n  volume,\n  mass,\n  size,\n  unknown,\n});\n\nconst UNIT_MAP = new Map<string, Units>([\n  // volume\n  [\"teaspoon\", \"tsp\"],\n  [\"teaspoons\", \"tsp\"],\n  [\"tsp\", \"tsp\"],\n  [\"tablespoon\", \"Tbs\"],\n  [\"tablespoons\", \"Tbs\"],\n  [\"tbsp\", \"Tbs\"],\n  [\"cup\", \"cup\"],\n  [\"cups\", \"cup\"],\n  [\"pint\", \"pnt\"],\n  [\"pints\", \"pnt\"],\n  [\"pt\", \"pnt\"],\n  [\"quart\", \"qt\"],\n  [\"quarts\", \"qt\"],\n  [\"qt\", \"qt\"],\n  [\"gallon\", \"gal\"],\n  [\"gallons\", \"gal\"],\n  [\"gal\", \"gal\"],\n  [\"fluid ounce\", \"fl-oz\"],\n  [\"fluid ounces\", \"fl-oz\"],\n  [\"fl oz\", \"fl-oz\"],\n  [\"milliliter\", \"ml\"],\n  [\"milliliters\", \"ml\"],\n  [\"ml\", \"ml\"],\n  [\"liter\", \"l\"],\n  [\"liters\", \"l\"],\n  [\"l\", \"l\"],\n\n  // mass\n  [\"ounce\", \"oz\"],\n  [\"ounces\", \"oz\"],\n  [\"oz\", \"oz\"],\n  [\"pound\", \"lb\"],\n  [\"pounds\", \"lb\"],\n  [\"lb\", \"lb\"],\n  [\"gram\", \"g\"],\n  [\"grams\", \"g\"],\n  [\"g\", \"g\"],\n  [\"kilogram\", \"kg\"],\n  [\"kilograms\", \"kg\"],\n  [\"kg\", \"kg\"],\n\n  // size\n  [\"small\", \"small\"],\n  [\"medium\", \"medium\"],\n  [\"large\", \"large\"],\n])\n\nfunction toUnit(unitName: string) {\n  return _.defaultTo(UNIT_MAP.get(_.lowerCase(unitName)), \"unknown\");\n}\n\nexport type StandardUnit = Units;\n\nfunction isStandardUnit(unit: any): unit is StandardUnit {\n  return typeof unit === \"string\";\n}\n\nfunction areUnitsConvertible(fromUnit: StandardUnit, toUnit: StandardUnit) {\n  return _convert().from(fromUnit)\n    .possibilities()\n    .includes(toUnit);\n}\n\nfunction convert(quantity: number, unit: StandardUnit, toUnit: StandardUnit) {\n  return _convert(quantity).from(unit).to(toUnit);\n}\n\nfunction canParse() {\n  return true;\n}\n\nfunction getUnitName(unitText: string | undefined) {\n  const words = _.words(_.lowerCase(unitText));\n  if (_.size(words) === 0) return \"\";\n  const first = words[0];\n\n  if (([\"fluid\", \"fl\"].includes(first)) && _.size(words) > 1) {\n    return first + \" \" + words[1];\n  }\n  return first;\n}\n\nfunction parse(unitText: string | undefined) {\n  return toUnit(getUnitName(unitText));\n}\n\nconst functions: ConvertFunctions<StandardUnit> & ParserFunctions<StandardUnit>= {\n  isSupportedUnitType: isStandardUnit,\n  areUnitsConvertible,\n  convert,\n  canParse,\n  parse,\n}\nexport default functions;","import _ from \"lodash\";\nimport { ConvertFunctions } from \"../ConvertFunctions\";\nimport { ParserFunctions } from \"../ParserFunctions\";\n\nexport interface DiameterUnit {\n  diameter: number;\n}\n\nfunction isDiameterUnit(unit: any): unit is DiameterUnit {\n  return unit instanceof Object && \"diameter\" in unit;\n}\n\nexport function isDiameterUnitName(unitName: string) {\n  return /^[1-9][0-9]*-inch$/.test(unitName);\n}\n\nfunction toUnit(unitName: string): DiameterUnit {\n  const diameter = _.toNumber(_.head(_.split(unitName, \"-\")));\n  return { diameter };\n}\n\nfunction areUnitsConvertible(fromUnit: DiameterUnit, toUnit: DiameterUnit) {\n  return true;\n}\n\nfunction convert(quantity: number, unit: DiameterUnit, toUnit: DiameterUnit) {\n  const squared = (val: number) => _.multiply(val, val);\n  return quantity * squared(unit.diameter) / squared(toUnit.diameter);\n}\n\nfunction canParse(unitText: string | undefined) {\n  const words = _.split(unitText, \" \");\n  if (_.size(words) === 0) return false;\n\n  const first = words[0];\n  if (isDiameterUnitName(first)) return true;\n  if (first === \"of\" && _.size(words) > 1) {\n    const second = words[1];\n    return isDiameterUnitName(second);\n  }\n\n  return false;\n}\n\nfunction parse(unitText: string | undefined) {\n  if (canParse(unitText)) {\n    const words = _.split(unitText, \" \");\n    const first = words[0];\n    if (isDiameterUnitName(first)) {\n      return toUnit(first);\n    }\n    return toUnit(words[1]);\n  }\n  return { diameter: NaN };\n}\n\nconst functions: ConvertFunctions<DiameterUnit> & ParserFunctions<DiameterUnit> = {\n  isSupportedUnitType: isDiameterUnit,\n  areUnitsConvertible,\n  convert,\n  canParse,\n  parse,\n}\nexport default functions;","import diameterUnitFunctions, { DiameterUnit } from \"./DiameterUnit\";\n\nexport type VariableUnit = DiameterUnit;\nconst functions = diameterUnitFunctions;\nexport default functions;\n","import composeConverter from \"./CompositeConvertFunctions\";\nimport composeParser from \"./CompositeParserFunctions\";\nimport standardUnitFunctions, { StandardUnit } from \"./standard-unit\";\nimport variableUnitFunctions, { VariableUnit } from \"./variable-unit\";\n\nexport type Unit = StandardUnit | VariableUnit;\n\nconst converter = composeConverter<Unit>(variableUnitFunctions, standardUnitFunctions);\nexport function isMeasurementConvertible(fromUnit: Unit, measurement: { unit: Unit; }) {\n  const toUnit = measurement.unit;\n  return converter.areUnitsConvertible(fromUnit, toUnit);\n}\n\nconst convert = converter.convert;\n\nexport const parseUnit = composeParser<Unit>(variableUnitFunctions, standardUnitFunctions).parse;\n\nexport default convert;","// Generated from /home/runner/work/diet-diary/diet-diary/antlr4/amount/Amount.g4 by ANTLR 4.9.2\n// jshint ignore: start\nimport antlr4 from 'antlr4';\n\n\n\nconst serializedATN = [\"\\u0003\\u608b\\ua72a\\u8133\\ub9ed\\u417c\\u3be7\\u7786\",\n    \"\\u5964\\u0002\\tX\\b\\u0001\\u0004\\u0002\\t\\u0002\\u0004\\u0003\\t\\u0003\\u0004\",\n    \"\\u0004\\t\\u0004\\u0004\\u0005\\t\\u0005\\u0004\\u0006\\t\\u0006\\u0004\\u0007\\t\",\n    \"\\u0007\\u0004\\b\\t\\b\\u0004\\t\\t\\t\\u0003\\u0002\\u0003\\u0002\\u0003\\u0002\\u0003\",\n    \"\\u0003\\u0006\\u0003\\u0018\\n\\u0003\\r\\u0003\\u000e\\u0003\\u0019\\u0003\\u0003\",\n    \"\\u0006\\u0003\\u001d\\n\\u0003\\r\\u0003\\u000e\\u0003\\u001e\\u0003\\u0003\\u0006\",\n    \"\\u0003\\\"\\n\\u0003\\r\\u0003\\u000e\\u0003#\\u0005\\u0003&\\n\\u0003\\u0003\\u0004\",\n    \"\\u0003\\u0004\\u0003\\u0005\\u0006\\u0005+\\n\\u0005\\r\\u0005\\u000e\\u0005,\\u0003\",\n    \"\\u0005\\u0003\\u0005\\u0007\\u00051\\n\\u0005\\f\\u0005\\u000e\\u00054\\u000b\\u0005\",\n    \"\\u0003\\u0005\\u0003\\u0005\\u0006\\u00058\\n\\u0005\\r\\u0005\\u000e\\u00059\\u0005\",\n    \"\\u0005<\\n\\u0005\\u0003\\u0006\\u0006\\u0006?\\n\\u0006\\r\\u0006\\u000e\\u0006\",\n    \"@\\u0003\\u0006\\u0003\\u0006\\u0006\\u0006E\\n\\u0006\\r\\u0006\\u000e\\u0006F\",\n    \"\\u0003\\u0007\\u0006\\u0007J\\n\\u0007\\r\\u0007\\u000e\\u0007K\\u0003\\b\\u0003\",\n    \"\\b\\u0003\\b\\u0003\\b\\u0003\\t\\u0006\\tS\\n\\t\\r\\t\\u000e\\tT\\u0003\\t\\u0003\\t\",\n    \"\\u0002\\u0002\\n\\u0003\\u0003\\u0005\\u0004\\u0007\\u0002\\t\\u0005\\u000b\\u0006\",\n    \"\\r\\u0007\\u000f\\b\\u0011\\t\\u0003\\u0002\\u0006\\u0004\\u0002C\\\\c|\\u0003\\u0002\",\n    \"2;\\u0006\\u0002\\'\\'//C\\\\c|\\u0005\\u0002\\u000b\\f\\u000f\\u000f\\\"\\\"\\u0002\",\n    \"b\\u0002\\u0003\\u0003\\u0002\\u0002\\u0002\\u0002\\u0005\\u0003\\u0002\\u0002\",\n    \"\\u0002\\u0002\\t\\u0003\\u0002\\u0002\\u0002\\u0002\\u000b\\u0003\\u0002\\u0002\",\n    \"\\u0002\\u0002\\r\\u0003\\u0002\\u0002\\u0002\\u0002\\u000f\\u0003\\u0002\\u0002\",\n    \"\\u0002\\u0002\\u0011\\u0003\\u0002\\u0002\\u0002\\u0003\\u0013\\u0003\\u0002\\u0002\",\n    \"\\u0002\\u0005%\\u0003\\u0002\\u0002\\u0002\\u0007\\'\\u0003\\u0002\\u0002\\u0002\",\n    \"\\t;\\u0003\\u0002\\u0002\\u0002\\u000b>\\u0003\\u0002\\u0002\\u0002\\rI\\u0003\",\n    \"\\u0002\\u0002\\u0002\\u000fM\\u0003\\u0002\\u0002\\u0002\\u0011R\\u0003\\u0002\",\n    \"\\u0002\\u0002\\u0013\\u0014\\u0007q\\u0002\\u0002\\u0014\\u0015\\u0007t\\u0002\",\n    \"\\u0002\\u0015\\u0004\\u0003\\u0002\\u0002\\u0002\\u0016\\u0018\\t\\u0002\\u0002\",\n    \"\\u0002\\u0017\\u0016\\u0003\\u0002\\u0002\\u0002\\u0018\\u0019\\u0003\\u0002\\u0002\",\n    \"\\u0002\\u0019\\u0017\\u0003\\u0002\\u0002\\u0002\\u0019\\u001a\\u0003\\u0002\\u0002\",\n    \"\\u0002\\u001a&\\u0003\\u0002\\u0002\\u0002\\u001b\\u001d\\t\\u0003\\u0002\\u0002\",\n    \"\\u001c\\u001b\\u0003\\u0002\\u0002\\u0002\\u001d\\u001e\\u0003\\u0002\\u0002\\u0002\",\n    \"\\u001e\\u001c\\u0003\\u0002\\u0002\\u0002\\u001e\\u001f\\u0003\\u0002\\u0002\\u0002\",\n    \"\\u001f!\\u0003\\u0002\\u0002\\u0002 \\\"\\t\\u0004\\u0002\\u0002! \\u0003\\u0002\",\n    \"\\u0002\\u0002\\\"#\\u0003\\u0002\\u0002\\u0002#!\\u0003\\u0002\\u0002\\u0002#$\",\n    \"\\u0003\\u0002\\u0002\\u0002$&\\u0003\\u0002\\u0002\\u0002%\\u0017\\u0003\\u0002\",\n    \"\\u0002\\u0002%\\u001c\\u0003\\u0002\\u0002\\u0002&\\u0006\\u0003\\u0002\\u0002\",\n    \"\\u0002\\'(\\t\\u0003\\u0002\\u0002(\\b\\u0003\\u0002\\u0002\\u0002)+\\u0005\\u0007\",\n    \"\\u0004\\u0002*)\\u0003\\u0002\\u0002\\u0002+,\\u0003\\u0002\\u0002\\u0002,*\\u0003\",\n    \"\\u0002\\u0002\\u0002,-\\u0003\\u0002\\u0002\\u0002-.\\u0003\\u0002\\u0002\\u0002\",\n    \".2\\u00070\\u0002\\u0002/1\\u0005\\u0007\\u0004\\u00020/\\u0003\\u0002\\u0002\",\n    \"\\u000214\\u0003\\u0002\\u0002\\u000220\\u0003\\u0002\\u0002\\u000223\\u0003\\u0002\",\n    \"\\u0002\\u00023<\\u0003\\u0002\\u0002\\u000242\\u0003\\u0002\\u0002\\u000257\\u0007\",\n    \"0\\u0002\\u000268\\u0005\\u0007\\u0004\\u000276\\u0003\\u0002\\u0002\\u000289\",\n    \"\\u0003\\u0002\\u0002\\u000297\\u0003\\u0002\\u0002\\u00029:\\u0003\\u0002\\u0002\",\n    \"\\u0002:<\\u0003\\u0002\\u0002\\u0002;*\\u0003\\u0002\\u0002\\u0002;5\\u0003\\u0002\",\n    \"\\u0002\\u0002<\\n\\u0003\\u0002\\u0002\\u0002=?\\u0005\\u0007\\u0004\\u0002>=\",\n    \"\\u0003\\u0002\\u0002\\u0002?@\\u0003\\u0002\\u0002\\u0002@>\\u0003\\u0002\\u0002\",\n    \"\\u0002@A\\u0003\\u0002\\u0002\\u0002AB\\u0003\\u0002\\u0002\\u0002BD\\u00071\",\n    \"\\u0002\\u0002CE\\u0005\\u0007\\u0004\\u0002DC\\u0003\\u0002\\u0002\\u0002EF\\u0003\",\n    \"\\u0002\\u0002\\u0002FD\\u0003\\u0002\\u0002\\u0002FG\\u0003\\u0002\\u0002\\u0002\",\n    \"G\\f\\u0003\\u0002\\u0002\\u0002HJ\\u0005\\u0007\\u0004\\u0002IH\\u0003\\u0002\",\n    \"\\u0002\\u0002JK\\u0003\\u0002\\u0002\\u0002KI\\u0003\\u0002\\u0002\\u0002KL\\u0003\",\n    \"\\u0002\\u0002\\u0002L\\u000e\\u0003\\u0002\\u0002\\u0002MN\\u0007.\\u0002\\u0002\",\n    \"NO\\u0003\\u0002\\u0002\\u0002OP\\b\\b\\u0002\\u0002P\\u0010\\u0003\\u0002\\u0002\",\n    \"\\u0002QS\\t\\u0005\\u0002\\u0002RQ\\u0003\\u0002\\u0002\\u0002ST\\u0003\\u0002\",\n    \"\\u0002\\u0002TR\\u0003\\u0002\\u0002\\u0002TU\\u0003\\u0002\\u0002\\u0002UV\\u0003\",\n    \"\\u0002\\u0002\\u0002VW\\b\\t\\u0003\\u0002W\\u0012\\u0003\\u0002\\u0002\\u0002\",\n    \"\\u000f\\u0002\\u0019\\u001e#%,29;@FKT\\u0004\\u0002\\u0003\\u0002\\b\\u0002\\u0002\"].join(\"\");\n\n\nconst atn = new antlr4.atn.ATNDeserializer().deserialize(serializedATN);\n\nconst decisionsToDFA = atn.decisionToState.map( (ds, index) => new antlr4.dfa.DFA(ds, index) );\n\nexport default class AmountLexer extends antlr4.Lexer {\n\n    static grammarFileName = \"Amount.g4\";\n    static channelNames = [ \"DEFAULT_TOKEN_CHANNEL\", \"HIDDEN\" ];\n\tstatic modeNames = [ \"DEFAULT_MODE\" ];\n\tstatic literalNames = [ null, \"'or'\", null, null, null, null, \"','\" ];\n\tstatic symbolicNames = [ null, null, \"STRING\", \"DECIMAL\", \"FRACTION\", \"WHOLE_NUMBER\", \n                          \"COMMA\", \"WS\" ];\n\tstatic ruleNames = [ \"T__0\", \"STRING\", \"DIGIT\", \"DECIMAL\", \"FRACTION\", \n                      \"WHOLE_NUMBER\", \"COMMA\", \"WS\" ];\n\n    constructor(input) {\n        super(input)\n        this._interp = new antlr4.atn.LexerATNSimulator(this, atn, decisionsToDFA, new antlr4.PredictionContextCache());\n    }\n\n    get atn() {\n        return atn;\n    }\n}\n\nAmountLexer.EOF = antlr4.Token.EOF;\nAmountLexer.T__0 = 1;\nAmountLexer.STRING = 2;\nAmountLexer.DECIMAL = 3;\nAmountLexer.FRACTION = 4;\nAmountLexer.WHOLE_NUMBER = 5;\nAmountLexer.COMMA = 6;\nAmountLexer.WS = 7;\n\n\n\n","// Generated from /home/runner/work/diet-diary/diet-diary/antlr4/amount/Amount.g4 by ANTLR 4.9.2\n// jshint ignore: start\nimport antlr4 from 'antlr4';\n\n// This class defines a complete listener for a parse tree produced by AmountParser.\nexport default class AmountListener extends antlr4.tree.ParseTreeListener {\n\n\t// Enter a parse tree produced by AmountParser#amount.\n\tenterAmount(ctx) {\n\t}\n\n\t// Exit a parse tree produced by AmountParser#amount.\n\texitAmount(ctx) {\n\t}\n\n\n\t// Enter a parse tree produced by AmountParser#measurement.\n\tenterMeasurement(ctx) {\n\t}\n\n\t// Exit a parse tree produced by AmountParser#measurement.\n\texitMeasurement(ctx) {\n\t}\n\n\n\t// Enter a parse tree produced by AmountParser#quantity.\n\tenterQuantity(ctx) {\n\t}\n\n\t// Exit a parse tree produced by AmountParser#quantity.\n\texitQuantity(ctx) {\n\t}\n\n\n\t// Enter a parse tree produced by AmountParser#unit.\n\tenterUnit(ctx) {\n\t}\n\n\t// Exit a parse tree produced by AmountParser#unit.\n\texitUnit(ctx) {\n\t}\n\n\n\n}","// Generated from /home/runner/work/diet-diary/diet-diary/antlr4/amount/Amount.g4 by ANTLR 4.9.2\n// jshint ignore: start\nimport antlr4 from 'antlr4';\nimport AmountListener from './AmountListener.js';\n\nconst serializedATN = [\"\\u0003\\u608b\\ua72a\\u8133\\ub9ed\\u417c\\u3be7\\u7786\",\n    \"\\u5964\\u0003\\t$\\u0004\\u0002\\t\\u0002\\u0004\\u0003\\t\\u0003\\u0004\\u0004\",\n    \"\\t\\u0004\\u0004\\u0005\\t\\u0005\\u0003\\u0002\\u0005\\u0002\\f\\n\\u0002\\u0003\",\n    \"\\u0002\\u0003\\u0002\\u0005\\u0002\\u0010\\n\\u0002\\u0005\\u0002\\u0012\\n\\u0002\",\n    \"\\u0003\\u0003\\u0003\\u0003\\u0005\\u0003\\u0016\\n\\u0003\\u0003\\u0004\\u0003\",\n    \"\\u0004\\u0003\\u0004\\u0003\\u0004\\u0003\\u0004\\u0005\\u0004\\u001d\\n\\u0004\",\n    \"\\u0003\\u0005\\u0006\\u0005 \\n\\u0005\\r\\u0005\\u000e\\u0005!\\u0003\\u0005\\u0002\",\n    \"\\u0002\\u0006\\u0002\\u0004\\u0006\\b\\u0002\\u0002\\u0002\\'\\u0002\\u000b\\u0003\",\n    \"\\u0002\\u0002\\u0002\\u0004\\u0013\\u0003\\u0002\\u0002\\u0002\\u0006\\u001c\\u0003\",\n    \"\\u0002\\u0002\\u0002\\b\\u001f\\u0003\\u0002\\u0002\\u0002\\n\\f\\u0005\\u0004\\u0003\",\n    \"\\u0002\\u000b\\n\\u0003\\u0002\\u0002\\u0002\\u000b\\f\\u0003\\u0002\\u0002\\u0002\",\n    \"\\f\\u0011\\u0003\\u0002\\u0002\\u0002\\r\\u000f\\u0007\\u0003\\u0002\\u0002\\u000e\",\n    \"\\u0010\\u0005\\u0004\\u0003\\u0002\\u000f\\u000e\\u0003\\u0002\\u0002\\u0002\\u000f\",\n    \"\\u0010\\u0003\\u0002\\u0002\\u0002\\u0010\\u0012\\u0003\\u0002\\u0002\\u0002\\u0011\",\n    \"\\r\\u0003\\u0002\\u0002\\u0002\\u0011\\u0012\\u0003\\u0002\\u0002\\u0002\\u0012\",\n    \"\\u0003\\u0003\\u0002\\u0002\\u0002\\u0013\\u0015\\u0005\\u0006\\u0004\\u0002\\u0014\",\n    \"\\u0016\\u0005\\b\\u0005\\u0002\\u0015\\u0014\\u0003\\u0002\\u0002\\u0002\\u0015\",\n    \"\\u0016\\u0003\\u0002\\u0002\\u0002\\u0016\\u0005\\u0003\\u0002\\u0002\\u0002\\u0017\",\n    \"\\u001d\\u0007\\u0005\\u0002\\u0002\\u0018\\u001d\\u0007\\u0006\\u0002\\u0002\\u0019\",\n    \"\\u001d\\u0007\\u0007\\u0002\\u0002\\u001a\\u001b\\u0007\\u0007\\u0002\\u0002\\u001b\",\n    \"\\u001d\\u0007\\u0006\\u0002\\u0002\\u001c\\u0017\\u0003\\u0002\\u0002\\u0002\\u001c\",\n    \"\\u0018\\u0003\\u0002\\u0002\\u0002\\u001c\\u0019\\u0003\\u0002\\u0002\\u0002\\u001c\",\n    \"\\u001a\\u0003\\u0002\\u0002\\u0002\\u001d\\u0007\\u0003\\u0002\\u0002\\u0002\\u001e\",\n    \" \\u0007\\u0004\\u0002\\u0002\\u001f\\u001e\\u0003\\u0002\\u0002\\u0002 !\\u0003\",\n    \"\\u0002\\u0002\\u0002!\\u001f\\u0003\\u0002\\u0002\\u0002!\\\"\\u0003\\u0002\\u0002\",\n    \"\\u0002\\\"\\t\\u0003\\u0002\\u0002\\u0002\\b\\u000b\\u000f\\u0011\\u0015\\u001c!\"].join(\"\");\n\n\nconst atn = new antlr4.atn.ATNDeserializer().deserialize(serializedATN);\n\nconst decisionsToDFA = atn.decisionToState.map( (ds, index) => new antlr4.dfa.DFA(ds, index) );\n\nconst sharedContextCache = new antlr4.PredictionContextCache();\n\nexport default class AmountParser extends antlr4.Parser {\n\n    static grammarFileName = \"Amount.g4\";\n    static literalNames = [ null, \"'or'\", null, null, null, null, \"','\" ];\n    static symbolicNames = [ null, null, \"STRING\", \"DECIMAL\", \"FRACTION\", \n                             \"WHOLE_NUMBER\", \"COMMA\", \"WS\" ];\n    static ruleNames = [ \"amount\", \"measurement\", \"quantity\", \"unit\" ];\n\n    constructor(input) {\n        super(input);\n        this._interp = new antlr4.atn.ParserATNSimulator(this, atn, decisionsToDFA, sharedContextCache);\n        this.ruleNames = AmountParser.ruleNames;\n        this.literalNames = AmountParser.literalNames;\n        this.symbolicNames = AmountParser.symbolicNames;\n    }\n\n    get atn() {\n        return atn;\n    }\n\n\n\n\tamount() {\n\t    let localctx = new AmountContext(this, this._ctx, this.state);\n\t    this.enterRule(localctx, 0, AmountParser.RULE_amount);\n\t    var _la = 0; // Token type\n\t    try {\n\t        this.enterOuterAlt(localctx, 1);\n\t        this.state = 9;\n\t        this._errHandler.sync(this);\n\t        _la = this._input.LA(1);\n\t        if((((_la) & ~0x1f) == 0 && ((1 << _la) & ((1 << AmountParser.DECIMAL) | (1 << AmountParser.FRACTION) | (1 << AmountParser.WHOLE_NUMBER))) !== 0)) {\n\t            this.state = 8;\n\t            this.measurement();\n\t        }\n\n\t        this.state = 15;\n\t        this._errHandler.sync(this);\n\t        _la = this._input.LA(1);\n\t        if(_la===AmountParser.T__0) {\n\t            this.state = 11;\n\t            this.match(AmountParser.T__0);\n\t            this.state = 13;\n\t            this._errHandler.sync(this);\n\t            _la = this._input.LA(1);\n\t            if((((_la) & ~0x1f) == 0 && ((1 << _la) & ((1 << AmountParser.DECIMAL) | (1 << AmountParser.FRACTION) | (1 << AmountParser.WHOLE_NUMBER))) !== 0)) {\n\t                this.state = 12;\n\t                this.measurement();\n\t            }\n\n\t        }\n\n\t    } catch (re) {\n\t    \tif(re instanceof antlr4.error.RecognitionException) {\n\t\t        localctx.exception = re;\n\t\t        this._errHandler.reportError(this, re);\n\t\t        this._errHandler.recover(this, re);\n\t\t    } else {\n\t\t    \tthrow re;\n\t\t    }\n\t    } finally {\n\t        this.exitRule();\n\t    }\n\t    return localctx;\n\t}\n\n\n\n\tmeasurement() {\n\t    let localctx = new MeasurementContext(this, this._ctx, this.state);\n\t    this.enterRule(localctx, 2, AmountParser.RULE_measurement);\n\t    var _la = 0; // Token type\n\t    try {\n\t        this.enterOuterAlt(localctx, 1);\n\t        this.state = 17;\n\t        this.quantity();\n\t        this.state = 19;\n\t        this._errHandler.sync(this);\n\t        _la = this._input.LA(1);\n\t        if(_la===AmountParser.STRING) {\n\t            this.state = 18;\n\t            this.unit();\n\t        }\n\n\t    } catch (re) {\n\t    \tif(re instanceof antlr4.error.RecognitionException) {\n\t\t        localctx.exception = re;\n\t\t        this._errHandler.reportError(this, re);\n\t\t        this._errHandler.recover(this, re);\n\t\t    } else {\n\t\t    \tthrow re;\n\t\t    }\n\t    } finally {\n\t        this.exitRule();\n\t    }\n\t    return localctx;\n\t}\n\n\n\n\tquantity() {\n\t    let localctx = new QuantityContext(this, this._ctx, this.state);\n\t    this.enterRule(localctx, 4, AmountParser.RULE_quantity);\n\t    try {\n\t        this.state = 26;\n\t        this._errHandler.sync(this);\n\t        var la_ = this._interp.adaptivePredict(this._input,4,this._ctx);\n\t        switch(la_) {\n\t        case 1:\n\t            this.enterOuterAlt(localctx, 1);\n\t            this.state = 21;\n\t            this.match(AmountParser.DECIMAL);\n\t            break;\n\n\t        case 2:\n\t            this.enterOuterAlt(localctx, 2);\n\t            this.state = 22;\n\t            this.match(AmountParser.FRACTION);\n\t            break;\n\n\t        case 3:\n\t            this.enterOuterAlt(localctx, 3);\n\t            this.state = 23;\n\t            this.match(AmountParser.WHOLE_NUMBER);\n\t            break;\n\n\t        case 4:\n\t            this.enterOuterAlt(localctx, 4);\n\t            this.state = 24;\n\t            this.match(AmountParser.WHOLE_NUMBER);\n\t            this.state = 25;\n\t            this.match(AmountParser.FRACTION);\n\t            break;\n\n\t        }\n\t    } catch (re) {\n\t    \tif(re instanceof antlr4.error.RecognitionException) {\n\t\t        localctx.exception = re;\n\t\t        this._errHandler.reportError(this, re);\n\t\t        this._errHandler.recover(this, re);\n\t\t    } else {\n\t\t    \tthrow re;\n\t\t    }\n\t    } finally {\n\t        this.exitRule();\n\t    }\n\t    return localctx;\n\t}\n\n\n\n\tunit() {\n\t    let localctx = new UnitContext(this, this._ctx, this.state);\n\t    this.enterRule(localctx, 6, AmountParser.RULE_unit);\n\t    var _la = 0; // Token type\n\t    try {\n\t        this.enterOuterAlt(localctx, 1);\n\t        this.state = 29; \n\t        this._errHandler.sync(this);\n\t        _la = this._input.LA(1);\n\t        do {\n\t            this.state = 28;\n\t            this.match(AmountParser.STRING);\n\t            this.state = 31; \n\t            this._errHandler.sync(this);\n\t            _la = this._input.LA(1);\n\t        } while(_la===AmountParser.STRING);\n\t    } catch (re) {\n\t    \tif(re instanceof antlr4.error.RecognitionException) {\n\t\t        localctx.exception = re;\n\t\t        this._errHandler.reportError(this, re);\n\t\t        this._errHandler.recover(this, re);\n\t\t    } else {\n\t\t    \tthrow re;\n\t\t    }\n\t    } finally {\n\t        this.exitRule();\n\t    }\n\t    return localctx;\n\t}\n\n\n}\n\nAmountParser.EOF = antlr4.Token.EOF;\nAmountParser.T__0 = 1;\nAmountParser.STRING = 2;\nAmountParser.DECIMAL = 3;\nAmountParser.FRACTION = 4;\nAmountParser.WHOLE_NUMBER = 5;\nAmountParser.COMMA = 6;\nAmountParser.WS = 7;\n\nAmountParser.RULE_amount = 0;\nAmountParser.RULE_measurement = 1;\nAmountParser.RULE_quantity = 2;\nAmountParser.RULE_unit = 3;\n\nclass AmountContext extends antlr4.ParserRuleContext {\n\n    constructor(parser, parent, invokingState) {\n        if(parent===undefined) {\n            parent = null;\n        }\n        if(invokingState===undefined || invokingState===null) {\n            invokingState = -1;\n        }\n        super(parent, invokingState);\n        this.parser = parser;\n        this.ruleIndex = AmountParser.RULE_amount;\n    }\n\n\tmeasurement = function(i) {\n\t    if(i===undefined) {\n\t        i = null;\n\t    }\n\t    if(i===null) {\n\t        return this.getTypedRuleContexts(MeasurementContext);\n\t    } else {\n\t        return this.getTypedRuleContext(MeasurementContext,i);\n\t    }\n\t};\n\n\tenterRule(listener) {\n\t    if(listener instanceof AmountListener ) {\n\t        listener.enterAmount(this);\n\t\t}\n\t}\n\n\texitRule(listener) {\n\t    if(listener instanceof AmountListener ) {\n\t        listener.exitAmount(this);\n\t\t}\n\t}\n\n\n}\n\n\n\nclass MeasurementContext extends antlr4.ParserRuleContext {\n\n    constructor(parser, parent, invokingState) {\n        if(parent===undefined) {\n            parent = null;\n        }\n        if(invokingState===undefined || invokingState===null) {\n            invokingState = -1;\n        }\n        super(parent, invokingState);\n        this.parser = parser;\n        this.ruleIndex = AmountParser.RULE_measurement;\n    }\n\n\tquantity() {\n\t    return this.getTypedRuleContext(QuantityContext,0);\n\t};\n\n\tunit() {\n\t    return this.getTypedRuleContext(UnitContext,0);\n\t};\n\n\tenterRule(listener) {\n\t    if(listener instanceof AmountListener ) {\n\t        listener.enterMeasurement(this);\n\t\t}\n\t}\n\n\texitRule(listener) {\n\t    if(listener instanceof AmountListener ) {\n\t        listener.exitMeasurement(this);\n\t\t}\n\t}\n\n\n}\n\n\n\nclass QuantityContext extends antlr4.ParserRuleContext {\n\n    constructor(parser, parent, invokingState) {\n        if(parent===undefined) {\n            parent = null;\n        }\n        if(invokingState===undefined || invokingState===null) {\n            invokingState = -1;\n        }\n        super(parent, invokingState);\n        this.parser = parser;\n        this.ruleIndex = AmountParser.RULE_quantity;\n    }\n\n\tDECIMAL() {\n\t    return this.getToken(AmountParser.DECIMAL, 0);\n\t};\n\n\tFRACTION() {\n\t    return this.getToken(AmountParser.FRACTION, 0);\n\t};\n\n\tWHOLE_NUMBER() {\n\t    return this.getToken(AmountParser.WHOLE_NUMBER, 0);\n\t};\n\n\tenterRule(listener) {\n\t    if(listener instanceof AmountListener ) {\n\t        listener.enterQuantity(this);\n\t\t}\n\t}\n\n\texitRule(listener) {\n\t    if(listener instanceof AmountListener ) {\n\t        listener.exitQuantity(this);\n\t\t}\n\t}\n\n\n}\n\n\n\nclass UnitContext extends antlr4.ParserRuleContext {\n\n    constructor(parser, parent, invokingState) {\n        if(parent===undefined) {\n            parent = null;\n        }\n        if(invokingState===undefined || invokingState===null) {\n            invokingState = -1;\n        }\n        super(parent, invokingState);\n        this.parser = parser;\n        this.ruleIndex = AmountParser.RULE_unit;\n    }\n\n\tSTRING = function(i) {\n\t\tif(i===undefined) {\n\t\t\ti = null;\n\t\t}\n\t    if(i===null) {\n\t        return this.getTokens(AmountParser.STRING);\n\t    } else {\n\t        return this.getToken(AmountParser.STRING, i);\n\t    }\n\t};\n\n\n\tenterRule(listener) {\n\t    if(listener instanceof AmountListener ) {\n\t        listener.enterUnit(this);\n\t\t}\n\t}\n\n\texitRule(listener) {\n\t    if(listener instanceof AmountListener ) {\n\t        listener.exitUnit(this);\n\t\t}\n\t}\n\n\n}\n\n\n\n\nAmountParser.AmountContext = AmountContext; \nAmountParser.MeasurementContext = MeasurementContext; \nAmountParser.QuantityContext = QuantityContext; \nAmountParser.UnitContext = UnitContext; \n","import antlr4 from 'antlr4';\nimport Fraction from 'fraction.js';\nimport _ from 'lodash';\nimport AmountLexer from '../../../generated/parser/AmountLexer';\nimport AmountListener from '../../../generated/parser/AmountListener';\nimport AmountParser from '../../../generated/parser/AmountParser';\nimport { CaseChangingStream } from './CaseChangingStream';\n\nfunction toNumber(str) {\n  return str.includes('/') ? new Fraction(str).valueOf() : _.toNumber(str);\n}\n\nfunction getCurrentMeasurement(content) {\n  if (_.get(content, \"alternateMeasurement\")) {\n    return _.get(content, \"alternateMeasurement\");\n  } else {\n    return _.get(content, \"measurement\");\n  }\n}\nclass AmountDecomposer extends AmountListener {\n\n  constructor(input) {\n    super();\n    this.input = input;\n    this.content = {};\n    this.amountStart = 0;\n  }\n\n  exitQuantity(ctx) {\n    const val = this.input.substring(ctx.start.column, ctx.stop.stop + 1);\n    const measurement = getCurrentMeasurement(this.content);\n    _.set(measurement, \"quantityText\", val);\n    _.set(measurement, \"quantity\", toNumber(val));\n  }\n\n  exitUnit(ctx) {\n    const val = this.input.substring(ctx.start.column, ctx.stop.stop + 1);\n    const measurement = getCurrentMeasurement(this.content);\n    _.set(measurement, \"unitText\", val);\n  }\n\n  enterMeasurement(ctx) {\n    if (this.amountStart === 0) {\n      this.amountStart = ctx.start.column;\n    }\n    if (_.isUndefined(_.get(this.content, \"measurement\"))) {\n      _.set(this.content, \"measurement\", {});\n    } else {\n      _.set(this.content, \"alternateMeasurement\", {});\n    }\n  }\n\n  getContent() {\n    return this.content;\n  }\n}\n\nclass SyntaxErrorListener extends antlr4.error.ErrorListener {\n  constructor() {\n    super();\n    this.hasError = false;\n  }\n\n  syntaxError(_recognizer, _offendingSymbol, _line, _column, _msg, _e) {\n    this.hasError = true;\n  }\n\n}\n\nexport default function parse(input) {\n\n  const chars = new antlr4.InputStream(input);\n  const lowerCaseChars = new CaseChangingStream(chars, false);\n  const lexer = new AmountLexer(lowerCaseChars);\n  const errorListener = new SyntaxErrorListener();\n  lexer.removeErrorListeners();\n  lexer.addErrorListener(errorListener);\n  const tokens = new antlr4.CommonTokenStream(lexer);\n  const parser = new AmountParser(tokens);\n  parser.buildParseTrees = true;\n  const tree = parser.amount();\n  const decomposer = new AmountDecomposer(input);\n  antlr4.tree.ParseTreeWalker.DEFAULT.walk(decomposer, tree);\n\n  const parsed = decomposer.getContent();\n  if (errorListener.hasError) {\n    _.set(parsed, \"hasError\", true);\n  }\n  return parsed;\n}\n","import _ from \"lodash\";\nimport { parseUnit } from \"../convert\";\nimport parse, { Measurement } from \"./amount\";\n\nfunction compose(quantityText: string | undefined, unitText: string) {\n  return quantityText + \" \" + unitText;\n}\n\nfunction createMeasurement(measurement?: Measurement) {\n  return {\n    quantity: measurement?.quantity || 0,\n    unit: parseUnit(measurement?.unitText),\n    unitText: measurement?.unitText,\n    amountWithUnitText: _.partial(compose, measurement?.quantityText),\n  }\n}\n\nexport default function decompose(amount: string) {\n  const { measurement, alternateMeasurement } = parse(amount);\n  if (_.isUndefined(alternateMeasurement)) {\n    return {\n      measurement: createMeasurement(measurement),\n    };  \n  } else {\n    return {\n      measurement: createMeasurement(measurement),\n      alternateMeasurement: createMeasurement(alternateMeasurement),\n    };  \n  }\n}\n\nexport type DecomposedAmount = ReturnType<typeof decompose>;\n\n","// Generated from /home/runner/work/diet-diary/diet-diary/antlr4/food-description/FoodDescription.g4 by ANTLR 4.9.2\n// jshint ignore: start\nimport antlr4 from 'antlr4';\n\n\n\nconst serializedATN = [\"\\u0003\\u608b\\ua72a\\u8133\\ub9ed\\u417c\\u3be7\\u7786\",\n    \"\\u5964\\u0002\\bS\\b\\u0001\\u0004\\u0002\\t\\u0002\\u0004\\u0003\\t\\u0003\\u0004\",\n    \"\\u0004\\t\\u0004\\u0004\\u0005\\t\\u0005\\u0004\\u0006\\t\\u0006\\u0004\\u0007\\t\",\n    \"\\u0007\\u0004\\b\\t\\b\\u0003\\u0002\\u0006\\u0002\\u0013\\n\\u0002\\r\\u0002\\u000e\",\n    \"\\u0002\\u0014\\u0003\\u0002\\u0006\\u0002\\u0018\\n\\u0002\\r\\u0002\\u000e\\u0002\",\n    \"\\u0019\\u0003\\u0002\\u0006\\u0002\\u001d\\n\\u0002\\r\\u0002\\u000e\\u0002\\u001e\",\n    \"\\u0005\\u0002!\\n\\u0002\\u0003\\u0003\\u0003\\u0003\\u0003\\u0004\\u0006\\u0004\",\n    \"&\\n\\u0004\\r\\u0004\\u000e\\u0004\\'\\u0003\\u0004\\u0003\\u0004\\u0007\\u0004\",\n    \",\\n\\u0004\\f\\u0004\\u000e\\u0004/\\u000b\\u0004\\u0003\\u0004\\u0003\\u0004\\u0006\",\n    \"\\u00043\\n\\u0004\\r\\u0004\\u000e\\u00044\\u0005\\u00047\\n\\u0004\\u0003\\u0005\",\n    \"\\u0006\\u0005:\\n\\u0005\\r\\u0005\\u000e\\u0005;\\u0003\\u0005\\u0003\\u0005\\u0006\",\n    \"\\u0005@\\n\\u0005\\r\\u0005\\u000e\\u0005A\\u0003\\u0006\\u0006\\u0006E\\n\\u0006\",\n    \"\\r\\u0006\\u000e\\u0006F\\u0003\\u0007\\u0003\\u0007\\u0003\\u0007\\u0003\\u0007\",\n    \"\\u0003\\b\\u0006\\bN\\n\\b\\r\\b\\u000e\\bO\\u0003\\b\\u0003\\b\\u0002\\u0002\\t\\u0003\",\n    \"\\u0003\\u0005\\u0002\\u0007\\u0004\\t\\u0005\\u000b\\u0006\\r\\u0007\\u000f\\b\\u0003\",\n    \"\\u0002\\u0006\\u0005\\u0002//C\\\\c|\\u0003\\u00022;\\u0006\\u0002\\'\\'//C\\\\c\",\n    \"|\\u0005\\u0002\\u000b\\f\\u000f\\u000f\\\"\\\"\\u0002]\\u0002\\u0003\\u0003\\u0002\",\n    \"\\u0002\\u0002\\u0002\\u0007\\u0003\\u0002\\u0002\\u0002\\u0002\\t\\u0003\\u0002\",\n    \"\\u0002\\u0002\\u0002\\u000b\\u0003\\u0002\\u0002\\u0002\\u0002\\r\\u0003\\u0002\",\n    \"\\u0002\\u0002\\u0002\\u000f\\u0003\\u0002\\u0002\\u0002\\u0003 \\u0003\\u0002\",\n    \"\\u0002\\u0002\\u0005\\\"\\u0003\\u0002\\u0002\\u0002\\u00076\\u0003\\u0002\\u0002\",\n    \"\\u0002\\t9\\u0003\\u0002\\u0002\\u0002\\u000bD\\u0003\\u0002\\u0002\\u0002\\rH\",\n    \"\\u0003\\u0002\\u0002\\u0002\\u000fM\\u0003\\u0002\\u0002\\u0002\\u0011\\u0013\",\n    \"\\t\\u0002\\u0002\\u0002\\u0012\\u0011\\u0003\\u0002\\u0002\\u0002\\u0013\\u0014\",\n    \"\\u0003\\u0002\\u0002\\u0002\\u0014\\u0012\\u0003\\u0002\\u0002\\u0002\\u0014\\u0015\",\n    \"\\u0003\\u0002\\u0002\\u0002\\u0015!\\u0003\\u0002\\u0002\\u0002\\u0016\\u0018\",\n    \"\\t\\u0003\\u0002\\u0002\\u0017\\u0016\\u0003\\u0002\\u0002\\u0002\\u0018\\u0019\",\n    \"\\u0003\\u0002\\u0002\\u0002\\u0019\\u0017\\u0003\\u0002\\u0002\\u0002\\u0019\\u001a\",\n    \"\\u0003\\u0002\\u0002\\u0002\\u001a\\u001c\\u0003\\u0002\\u0002\\u0002\\u001b\\u001d\",\n    \"\\t\\u0004\\u0002\\u0002\\u001c\\u001b\\u0003\\u0002\\u0002\\u0002\\u001d\\u001e\",\n    \"\\u0003\\u0002\\u0002\\u0002\\u001e\\u001c\\u0003\\u0002\\u0002\\u0002\\u001e\\u001f\",\n    \"\\u0003\\u0002\\u0002\\u0002\\u001f!\\u0003\\u0002\\u0002\\u0002 \\u0012\\u0003\",\n    \"\\u0002\\u0002\\u0002 \\u0017\\u0003\\u0002\\u0002\\u0002!\\u0004\\u0003\\u0002\",\n    \"\\u0002\\u0002\\\"#\\t\\u0003\\u0002\\u0002#\\u0006\\u0003\\u0002\\u0002\\u0002$\",\n    \"&\\u0005\\u0005\\u0003\\u0002%$\\u0003\\u0002\\u0002\\u0002&\\'\\u0003\\u0002\\u0002\",\n    \"\\u0002\\'%\\u0003\\u0002\\u0002\\u0002\\'(\\u0003\\u0002\\u0002\\u0002()\\u0003\",\n    \"\\u0002\\u0002\\u0002)-\\u00070\\u0002\\u0002*,\\u0005\\u0005\\u0003\\u0002+*\",\n    \"\\u0003\\u0002\\u0002\\u0002,/\\u0003\\u0002\\u0002\\u0002-+\\u0003\\u0002\\u0002\",\n    \"\\u0002-.\\u0003\\u0002\\u0002\\u0002.7\\u0003\\u0002\\u0002\\u0002/-\\u0003\\u0002\",\n    \"\\u0002\\u000202\\u00070\\u0002\\u000213\\u0005\\u0005\\u0003\\u000221\\u0003\",\n    \"\\u0002\\u0002\\u000234\\u0003\\u0002\\u0002\\u000242\\u0003\\u0002\\u0002\\u0002\",\n    \"45\\u0003\\u0002\\u0002\\u000257\\u0003\\u0002\\u0002\\u00026%\\u0003\\u0002\\u0002\",\n    \"\\u000260\\u0003\\u0002\\u0002\\u00027\\b\\u0003\\u0002\\u0002\\u00028:\\u0005\",\n    \"\\u0005\\u0003\\u000298\\u0003\\u0002\\u0002\\u0002:;\\u0003\\u0002\\u0002\\u0002\",\n    \";9\\u0003\\u0002\\u0002\\u0002;<\\u0003\\u0002\\u0002\\u0002<=\\u0003\\u0002\\u0002\",\n    \"\\u0002=?\\u00071\\u0002\\u0002>@\\u0005\\u0005\\u0003\\u0002?>\\u0003\\u0002\",\n    \"\\u0002\\u0002@A\\u0003\\u0002\\u0002\\u0002A?\\u0003\\u0002\\u0002\\u0002AB\\u0003\",\n    \"\\u0002\\u0002\\u0002B\\n\\u0003\\u0002\\u0002\\u0002CE\\u0005\\u0005\\u0003\\u0002\",\n    \"DC\\u0003\\u0002\\u0002\\u0002EF\\u0003\\u0002\\u0002\\u0002FD\\u0003\\u0002\\u0002\",\n    \"\\u0002FG\\u0003\\u0002\\u0002\\u0002G\\f\\u0003\\u0002\\u0002\\u0002HI\\u0007\",\n    \".\\u0002\\u0002IJ\\u0003\\u0002\\u0002\\u0002JK\\b\\u0007\\u0002\\u0002K\\u000e\",\n    \"\\u0003\\u0002\\u0002\\u0002LN\\t\\u0005\\u0002\\u0002ML\\u0003\\u0002\\u0002\\u0002\",\n    \"NO\\u0003\\u0002\\u0002\\u0002OM\\u0003\\u0002\\u0002\\u0002OP\\u0003\\u0002\\u0002\",\n    \"\\u0002PQ\\u0003\\u0002\\u0002\\u0002QR\\b\\b\\u0003\\u0002R\\u0010\\u0003\\u0002\",\n    \"\\u0002\\u0002\\u000f\\u0002\\u0014\\u0019\\u001e \\'-46;AFO\\u0004\\u0002\\u0003\",\n    \"\\u0002\\b\\u0002\\u0002\"].join(\"\");\n\n\nconst atn = new antlr4.atn.ATNDeserializer().deserialize(serializedATN);\n\nconst decisionsToDFA = atn.decisionToState.map( (ds, index) => new antlr4.dfa.DFA(ds, index) );\n\nexport default class FoodDescriptionLexer extends antlr4.Lexer {\n\n    static grammarFileName = \"FoodDescription.g4\";\n    static channelNames = [ \"DEFAULT_TOKEN_CHANNEL\", \"HIDDEN\" ];\n\tstatic modeNames = [ \"DEFAULT_MODE\" ];\n\tstatic literalNames = [ null, null, null, null, null, \"','\" ];\n\tstatic symbolicNames = [ null, \"STRING\", \"DECIMAL\", \"FRACTION\", \"WHOLE_NUMBER\", \n                          \"COMMA\", \"WS\" ];\n\tstatic ruleNames = [ \"STRING\", \"DIGIT\", \"DECIMAL\", \"FRACTION\", \"WHOLE_NUMBER\", \n                      \"COMMA\", \"WS\" ];\n\n    constructor(input) {\n        super(input)\n        this._interp = new antlr4.atn.LexerATNSimulator(this, atn, decisionsToDFA, new antlr4.PredictionContextCache());\n    }\n\n    get atn() {\n        return atn;\n    }\n}\n\nFoodDescriptionLexer.EOF = antlr4.Token.EOF;\nFoodDescriptionLexer.STRING = 1;\nFoodDescriptionLexer.DECIMAL = 2;\nFoodDescriptionLexer.FRACTION = 3;\nFoodDescriptionLexer.WHOLE_NUMBER = 4;\nFoodDescriptionLexer.COMMA = 5;\nFoodDescriptionLexer.WS = 6;\n\n\n\n","// Generated from /home/runner/work/diet-diary/diet-diary/antlr4/food-description/FoodDescription.g4 by ANTLR 4.9.2\n// jshint ignore: start\nimport antlr4 from 'antlr4';\n\n// This class defines a complete listener for a parse tree produced by FoodDescriptionParser.\nexport default class FoodDescriptionListener extends antlr4.tree.ParseTreeListener {\n\n\t// Enter a parse tree produced by FoodDescriptionParser#foodDescription.\n\tenterFoodDescription(ctx) {\n\t}\n\n\t// Exit a parse tree produced by FoodDescriptionParser#foodDescription.\n\texitFoodDescription(ctx) {\n\t}\n\n\n\t// Enter a parse tree produced by FoodDescriptionParser#foodName.\n\tenterFoodName(ctx) {\n\t}\n\n\t// Exit a parse tree produced by FoodDescriptionParser#foodName.\n\texitFoodName(ctx) {\n\t}\n\n\n\t// Enter a parse tree produced by FoodDescriptionParser#measurement.\n\tenterMeasurement(ctx) {\n\t}\n\n\t// Exit a parse tree produced by FoodDescriptionParser#measurement.\n\texitMeasurement(ctx) {\n\t}\n\n\n\t// Enter a parse tree produced by FoodDescriptionParser#quantity.\n\tenterQuantity(ctx) {\n\t}\n\n\t// Exit a parse tree produced by FoodDescriptionParser#quantity.\n\texitQuantity(ctx) {\n\t}\n\n\n\t// Enter a parse tree produced by FoodDescriptionParser#unit.\n\tenterUnit(ctx) {\n\t}\n\n\t// Exit a parse tree produced by FoodDescriptionParser#unit.\n\texitUnit(ctx) {\n\t}\n\n\n\n}","// Generated from /home/runner/work/diet-diary/diet-diary/antlr4/food-description/FoodDescription.g4 by ANTLR 4.9.2\n// jshint ignore: start\nimport antlr4 from 'antlr4';\nimport FoodDescriptionListener from './FoodDescriptionListener.js';\n\nconst serializedATN = [\"\\u0003\\u608b\\ua72a\\u8133\\ub9ed\\u417c\\u3be7\\u7786\",\n    \"\\u5964\\u0003\\b(\\u0004\\u0002\\t\\u0002\\u0004\\u0003\\t\\u0003\\u0004\\u0004\",\n    \"\\t\\u0004\\u0004\\u0005\\t\\u0005\\u0004\\u0006\\t\\u0006\\u0003\\u0002\\u0003\\u0002\",\n    \"\\u0005\\u0002\\u000f\\n\\u0002\\u0003\\u0003\\u0003\\u0003\\u0007\\u0003\\u0013\",\n    \"\\n\\u0003\\f\\u0003\\u000e\\u0003\\u0016\\u000b\\u0003\\u0003\\u0004\\u0003\\u0004\",\n    \"\\u0005\\u0004\\u001a\\n\\u0004\\u0003\\u0005\\u0003\\u0005\\u0003\\u0005\\u0003\",\n    \"\\u0005\\u0003\\u0005\\u0005\\u0005!\\n\\u0005\\u0003\\u0006\\u0006\\u0006$\\n\\u0006\",\n    \"\\r\\u0006\\u000e\\u0006%\\u0003\\u0006\\u0002\\u0002\\u0007\\u0002\\u0004\\u0006\",\n    \"\\b\\n\\u0002\\u0003\\u0004\\u0002\\u0003\\u0003\\u0007\\u0007\\u0002)\\u0002\\f\",\n    \"\\u0003\\u0002\\u0002\\u0002\\u0004\\u0010\\u0003\\u0002\\u0002\\u0002\\u0006\\u0017\",\n    \"\\u0003\\u0002\\u0002\\u0002\\b \\u0003\\u0002\\u0002\\u0002\\n#\\u0003\\u0002\\u0002\",\n    \"\\u0002\\f\\u000e\\u0005\\u0004\\u0003\\u0002\\r\\u000f\\u0005\\u0006\\u0004\\u0002\",\n    \"\\u000e\\r\\u0003\\u0002\\u0002\\u0002\\u000e\\u000f\\u0003\\u0002\\u0002\\u0002\",\n    \"\\u000f\\u0003\\u0003\\u0002\\u0002\\u0002\\u0010\\u0014\\u0007\\u0003\\u0002\\u0002\",\n    \"\\u0011\\u0013\\t\\u0002\\u0002\\u0002\\u0012\\u0011\\u0003\\u0002\\u0002\\u0002\",\n    \"\\u0013\\u0016\\u0003\\u0002\\u0002\\u0002\\u0014\\u0012\\u0003\\u0002\\u0002\\u0002\",\n    \"\\u0014\\u0015\\u0003\\u0002\\u0002\\u0002\\u0015\\u0005\\u0003\\u0002\\u0002\\u0002\",\n    \"\\u0016\\u0014\\u0003\\u0002\\u0002\\u0002\\u0017\\u0019\\u0005\\b\\u0005\\u0002\",\n    \"\\u0018\\u001a\\u0005\\n\\u0006\\u0002\\u0019\\u0018\\u0003\\u0002\\u0002\\u0002\",\n    \"\\u0019\\u001a\\u0003\\u0002\\u0002\\u0002\\u001a\\u0007\\u0003\\u0002\\u0002\\u0002\",\n    \"\\u001b!\\u0007\\u0004\\u0002\\u0002\\u001c!\\u0007\\u0005\\u0002\\u0002\\u001d\",\n    \"!\\u0007\\u0006\\u0002\\u0002\\u001e\\u001f\\u0007\\u0006\\u0002\\u0002\\u001f\",\n    \"!\\u0007\\u0005\\u0002\\u0002 \\u001b\\u0003\\u0002\\u0002\\u0002 \\u001c\\u0003\",\n    \"\\u0002\\u0002\\u0002 \\u001d\\u0003\\u0002\\u0002\\u0002 \\u001e\\u0003\\u0002\",\n    \"\\u0002\\u0002!\\t\\u0003\\u0002\\u0002\\u0002\\\"$\\u0007\\u0003\\u0002\\u0002#\",\n    \"\\\"\\u0003\\u0002\\u0002\\u0002$%\\u0003\\u0002\\u0002\\u0002%#\\u0003\\u0002\\u0002\",\n    \"\\u0002%&\\u0003\\u0002\\u0002\\u0002&\\u000b\\u0003\\u0002\\u0002\\u0002\\u0007\",\n    \"\\u000e\\u0014\\u0019 %\"].join(\"\");\n\n\nconst atn = new antlr4.atn.ATNDeserializer().deserialize(serializedATN);\n\nconst decisionsToDFA = atn.decisionToState.map( (ds, index) => new antlr4.dfa.DFA(ds, index) );\n\nconst sharedContextCache = new antlr4.PredictionContextCache();\n\nexport default class FoodDescriptionParser extends antlr4.Parser {\n\n    static grammarFileName = \"FoodDescription.g4\";\n    static literalNames = [ null, null, null, null, null, \"','\" ];\n    static symbolicNames = [ null, \"STRING\", \"DECIMAL\", \"FRACTION\", \"WHOLE_NUMBER\", \n                             \"COMMA\", \"WS\" ];\n    static ruleNames = [ \"foodDescription\", \"foodName\", \"measurement\", \"quantity\", \n                         \"unit\" ];\n\n    constructor(input) {\n        super(input);\n        this._interp = new antlr4.atn.ParserATNSimulator(this, atn, decisionsToDFA, sharedContextCache);\n        this.ruleNames = FoodDescriptionParser.ruleNames;\n        this.literalNames = FoodDescriptionParser.literalNames;\n        this.symbolicNames = FoodDescriptionParser.symbolicNames;\n    }\n\n    get atn() {\n        return atn;\n    }\n\n\n\n\tfoodDescription() {\n\t    let localctx = new FoodDescriptionContext(this, this._ctx, this.state);\n\t    this.enterRule(localctx, 0, FoodDescriptionParser.RULE_foodDescription);\n\t    var _la = 0; // Token type\n\t    try {\n\t        this.enterOuterAlt(localctx, 1);\n\t        this.state = 10;\n\t        this.foodName();\n\t        this.state = 12;\n\t        this._errHandler.sync(this);\n\t        _la = this._input.LA(1);\n\t        if((((_la) & ~0x1f) == 0 && ((1 << _la) & ((1 << FoodDescriptionParser.DECIMAL) | (1 << FoodDescriptionParser.FRACTION) | (1 << FoodDescriptionParser.WHOLE_NUMBER))) !== 0)) {\n\t            this.state = 11;\n\t            this.measurement();\n\t        }\n\n\t    } catch (re) {\n\t    \tif(re instanceof antlr4.error.RecognitionException) {\n\t\t        localctx.exception = re;\n\t\t        this._errHandler.reportError(this, re);\n\t\t        this._errHandler.recover(this, re);\n\t\t    } else {\n\t\t    \tthrow re;\n\t\t    }\n\t    } finally {\n\t        this.exitRule();\n\t    }\n\t    return localctx;\n\t}\n\n\n\n\tfoodName() {\n\t    let localctx = new FoodNameContext(this, this._ctx, this.state);\n\t    this.enterRule(localctx, 2, FoodDescriptionParser.RULE_foodName);\n\t    var _la = 0; // Token type\n\t    try {\n\t        this.enterOuterAlt(localctx, 1);\n\t        this.state = 14;\n\t        this.match(FoodDescriptionParser.STRING);\n\t        this.state = 18;\n\t        this._errHandler.sync(this);\n\t        _la = this._input.LA(1);\n\t        while(_la===FoodDescriptionParser.STRING || _la===FoodDescriptionParser.COMMA) {\n\t            this.state = 15;\n\t            _la = this._input.LA(1);\n\t            if(!(_la===FoodDescriptionParser.STRING || _la===FoodDescriptionParser.COMMA)) {\n\t            this._errHandler.recoverInline(this);\n\t            }\n\t            else {\n\t            \tthis._errHandler.reportMatch(this);\n\t                this.consume();\n\t            }\n\t            this.state = 20;\n\t            this._errHandler.sync(this);\n\t            _la = this._input.LA(1);\n\t        }\n\t    } catch (re) {\n\t    \tif(re instanceof antlr4.error.RecognitionException) {\n\t\t        localctx.exception = re;\n\t\t        this._errHandler.reportError(this, re);\n\t\t        this._errHandler.recover(this, re);\n\t\t    } else {\n\t\t    \tthrow re;\n\t\t    }\n\t    } finally {\n\t        this.exitRule();\n\t    }\n\t    return localctx;\n\t}\n\n\n\n\tmeasurement() {\n\t    let localctx = new MeasurementContext(this, this._ctx, this.state);\n\t    this.enterRule(localctx, 4, FoodDescriptionParser.RULE_measurement);\n\t    var _la = 0; // Token type\n\t    try {\n\t        this.enterOuterAlt(localctx, 1);\n\t        this.state = 21;\n\t        this.quantity();\n\t        this.state = 23;\n\t        this._errHandler.sync(this);\n\t        _la = this._input.LA(1);\n\t        if(_la===FoodDescriptionParser.STRING) {\n\t            this.state = 22;\n\t            this.unit();\n\t        }\n\n\t    } catch (re) {\n\t    \tif(re instanceof antlr4.error.RecognitionException) {\n\t\t        localctx.exception = re;\n\t\t        this._errHandler.reportError(this, re);\n\t\t        this._errHandler.recover(this, re);\n\t\t    } else {\n\t\t    \tthrow re;\n\t\t    }\n\t    } finally {\n\t        this.exitRule();\n\t    }\n\t    return localctx;\n\t}\n\n\n\n\tquantity() {\n\t    let localctx = new QuantityContext(this, this._ctx, this.state);\n\t    this.enterRule(localctx, 6, FoodDescriptionParser.RULE_quantity);\n\t    try {\n\t        this.state = 30;\n\t        this._errHandler.sync(this);\n\t        var la_ = this._interp.adaptivePredict(this._input,3,this._ctx);\n\t        switch(la_) {\n\t        case 1:\n\t            this.enterOuterAlt(localctx, 1);\n\t            this.state = 25;\n\t            this.match(FoodDescriptionParser.DECIMAL);\n\t            break;\n\n\t        case 2:\n\t            this.enterOuterAlt(localctx, 2);\n\t            this.state = 26;\n\t            this.match(FoodDescriptionParser.FRACTION);\n\t            break;\n\n\t        case 3:\n\t            this.enterOuterAlt(localctx, 3);\n\t            this.state = 27;\n\t            this.match(FoodDescriptionParser.WHOLE_NUMBER);\n\t            break;\n\n\t        case 4:\n\t            this.enterOuterAlt(localctx, 4);\n\t            this.state = 28;\n\t            this.match(FoodDescriptionParser.WHOLE_NUMBER);\n\t            this.state = 29;\n\t            this.match(FoodDescriptionParser.FRACTION);\n\t            break;\n\n\t        }\n\t    } catch (re) {\n\t    \tif(re instanceof antlr4.error.RecognitionException) {\n\t\t        localctx.exception = re;\n\t\t        this._errHandler.reportError(this, re);\n\t\t        this._errHandler.recover(this, re);\n\t\t    } else {\n\t\t    \tthrow re;\n\t\t    }\n\t    } finally {\n\t        this.exitRule();\n\t    }\n\t    return localctx;\n\t}\n\n\n\n\tunit() {\n\t    let localctx = new UnitContext(this, this._ctx, this.state);\n\t    this.enterRule(localctx, 8, FoodDescriptionParser.RULE_unit);\n\t    var _la = 0; // Token type\n\t    try {\n\t        this.enterOuterAlt(localctx, 1);\n\t        this.state = 33; \n\t        this._errHandler.sync(this);\n\t        _la = this._input.LA(1);\n\t        do {\n\t            this.state = 32;\n\t            this.match(FoodDescriptionParser.STRING);\n\t            this.state = 35; \n\t            this._errHandler.sync(this);\n\t            _la = this._input.LA(1);\n\t        } while(_la===FoodDescriptionParser.STRING);\n\t    } catch (re) {\n\t    \tif(re instanceof antlr4.error.RecognitionException) {\n\t\t        localctx.exception = re;\n\t\t        this._errHandler.reportError(this, re);\n\t\t        this._errHandler.recover(this, re);\n\t\t    } else {\n\t\t    \tthrow re;\n\t\t    }\n\t    } finally {\n\t        this.exitRule();\n\t    }\n\t    return localctx;\n\t}\n\n\n}\n\nFoodDescriptionParser.EOF = antlr4.Token.EOF;\nFoodDescriptionParser.STRING = 1;\nFoodDescriptionParser.DECIMAL = 2;\nFoodDescriptionParser.FRACTION = 3;\nFoodDescriptionParser.WHOLE_NUMBER = 4;\nFoodDescriptionParser.COMMA = 5;\nFoodDescriptionParser.WS = 6;\n\nFoodDescriptionParser.RULE_foodDescription = 0;\nFoodDescriptionParser.RULE_foodName = 1;\nFoodDescriptionParser.RULE_measurement = 2;\nFoodDescriptionParser.RULE_quantity = 3;\nFoodDescriptionParser.RULE_unit = 4;\n\nclass FoodDescriptionContext extends antlr4.ParserRuleContext {\n\n    constructor(parser, parent, invokingState) {\n        if(parent===undefined) {\n            parent = null;\n        }\n        if(invokingState===undefined || invokingState===null) {\n            invokingState = -1;\n        }\n        super(parent, invokingState);\n        this.parser = parser;\n        this.ruleIndex = FoodDescriptionParser.RULE_foodDescription;\n    }\n\n\tfoodName() {\n\t    return this.getTypedRuleContext(FoodNameContext,0);\n\t};\n\n\tmeasurement() {\n\t    return this.getTypedRuleContext(MeasurementContext,0);\n\t};\n\n\tenterRule(listener) {\n\t    if(listener instanceof FoodDescriptionListener ) {\n\t        listener.enterFoodDescription(this);\n\t\t}\n\t}\n\n\texitRule(listener) {\n\t    if(listener instanceof FoodDescriptionListener ) {\n\t        listener.exitFoodDescription(this);\n\t\t}\n\t}\n\n\n}\n\n\n\nclass FoodNameContext extends antlr4.ParserRuleContext {\n\n    constructor(parser, parent, invokingState) {\n        if(parent===undefined) {\n            parent = null;\n        }\n        if(invokingState===undefined || invokingState===null) {\n            invokingState = -1;\n        }\n        super(parent, invokingState);\n        this.parser = parser;\n        this.ruleIndex = FoodDescriptionParser.RULE_foodName;\n    }\n\n\tSTRING = function(i) {\n\t\tif(i===undefined) {\n\t\t\ti = null;\n\t\t}\n\t    if(i===null) {\n\t        return this.getTokens(FoodDescriptionParser.STRING);\n\t    } else {\n\t        return this.getToken(FoodDescriptionParser.STRING, i);\n\t    }\n\t};\n\n\n\tCOMMA = function(i) {\n\t\tif(i===undefined) {\n\t\t\ti = null;\n\t\t}\n\t    if(i===null) {\n\t        return this.getTokens(FoodDescriptionParser.COMMA);\n\t    } else {\n\t        return this.getToken(FoodDescriptionParser.COMMA, i);\n\t    }\n\t};\n\n\n\tenterRule(listener) {\n\t    if(listener instanceof FoodDescriptionListener ) {\n\t        listener.enterFoodName(this);\n\t\t}\n\t}\n\n\texitRule(listener) {\n\t    if(listener instanceof FoodDescriptionListener ) {\n\t        listener.exitFoodName(this);\n\t\t}\n\t}\n\n\n}\n\n\n\nclass MeasurementContext extends antlr4.ParserRuleContext {\n\n    constructor(parser, parent, invokingState) {\n        if(parent===undefined) {\n            parent = null;\n        }\n        if(invokingState===undefined || invokingState===null) {\n            invokingState = -1;\n        }\n        super(parent, invokingState);\n        this.parser = parser;\n        this.ruleIndex = FoodDescriptionParser.RULE_measurement;\n    }\n\n\tquantity() {\n\t    return this.getTypedRuleContext(QuantityContext,0);\n\t};\n\n\tunit() {\n\t    return this.getTypedRuleContext(UnitContext,0);\n\t};\n\n\tenterRule(listener) {\n\t    if(listener instanceof FoodDescriptionListener ) {\n\t        listener.enterMeasurement(this);\n\t\t}\n\t}\n\n\texitRule(listener) {\n\t    if(listener instanceof FoodDescriptionListener ) {\n\t        listener.exitMeasurement(this);\n\t\t}\n\t}\n\n\n}\n\n\n\nclass QuantityContext extends antlr4.ParserRuleContext {\n\n    constructor(parser, parent, invokingState) {\n        if(parent===undefined) {\n            parent = null;\n        }\n        if(invokingState===undefined || invokingState===null) {\n            invokingState = -1;\n        }\n        super(parent, invokingState);\n        this.parser = parser;\n        this.ruleIndex = FoodDescriptionParser.RULE_quantity;\n    }\n\n\tDECIMAL() {\n\t    return this.getToken(FoodDescriptionParser.DECIMAL, 0);\n\t};\n\n\tFRACTION() {\n\t    return this.getToken(FoodDescriptionParser.FRACTION, 0);\n\t};\n\n\tWHOLE_NUMBER() {\n\t    return this.getToken(FoodDescriptionParser.WHOLE_NUMBER, 0);\n\t};\n\n\tenterRule(listener) {\n\t    if(listener instanceof FoodDescriptionListener ) {\n\t        listener.enterQuantity(this);\n\t\t}\n\t}\n\n\texitRule(listener) {\n\t    if(listener instanceof FoodDescriptionListener ) {\n\t        listener.exitQuantity(this);\n\t\t}\n\t}\n\n\n}\n\n\n\nclass UnitContext extends antlr4.ParserRuleContext {\n\n    constructor(parser, parent, invokingState) {\n        if(parent===undefined) {\n            parent = null;\n        }\n        if(invokingState===undefined || invokingState===null) {\n            invokingState = -1;\n        }\n        super(parent, invokingState);\n        this.parser = parser;\n        this.ruleIndex = FoodDescriptionParser.RULE_unit;\n    }\n\n\tSTRING = function(i) {\n\t\tif(i===undefined) {\n\t\t\ti = null;\n\t\t}\n\t    if(i===null) {\n\t        return this.getTokens(FoodDescriptionParser.STRING);\n\t    } else {\n\t        return this.getToken(FoodDescriptionParser.STRING, i);\n\t    }\n\t};\n\n\n\tenterRule(listener) {\n\t    if(listener instanceof FoodDescriptionListener ) {\n\t        listener.enterUnit(this);\n\t\t}\n\t}\n\n\texitRule(listener) {\n\t    if(listener instanceof FoodDescriptionListener ) {\n\t        listener.exitUnit(this);\n\t\t}\n\t}\n\n\n}\n\n\n\n\nFoodDescriptionParser.FoodDescriptionContext = FoodDescriptionContext; \nFoodDescriptionParser.FoodNameContext = FoodNameContext; \nFoodDescriptionParser.MeasurementContext = MeasurementContext; \nFoodDescriptionParser.QuantityContext = QuantityContext; \nFoodDescriptionParser.UnitContext = UnitContext; \n","import antlr4 from 'antlr4';\nimport Fraction from 'fraction.js';\nimport _ from 'lodash';\nimport FoodDescriptionLexer from '../../../generated/parser/FoodDescriptionLexer';\nimport FoodDescriptionListener from '../../../generated/parser/FoodDescriptionListener';\nimport FoodDescriptionParser from '../../../generated/parser/FoodDescriptionParser';\nimport { CaseChangingStream } from './CaseChangingStream';\n\nfunction toNumber(str) {\n  return str.includes('/') ? new Fraction(str).valueOf() : _.toNumber(str);\n}\nclass FoodDescriptionDecomposer extends FoodDescriptionListener {\n\n  constructor(input) {\n    super();\n    this.input = input;\n    this.content = {};\n    this.amountStart = 0;\n  }\n\n  exitFoodName(ctx) {\n    const val = this.input.substring(ctx.start.column, ctx.stop.stop + 1);\n    _.set(this.content, \"foodName\", val);\n  }\n\n  exitQuantity(ctx) {\n    const val = this.input.substring(ctx.start.column, ctx.stop.stop + 1);\n    const measurement = _.get(this.content, \"measurement\");\n    _.set(measurement, \"quantityText\", val);\n    _.set(measurement, \"quantity\", toNumber(val));\n  }\n\n  exitUnit(ctx) {\n    const val = this.input.substring(ctx.start.column, ctx.stop.stop + 1);\n    const measurement = _.get(this.content, \"measurement\");\n    _.set(measurement, \"unitText\", val);\n  }\n\n  enterMeasurement(ctx) {\n    _.set(this.content, \"measurement\", {});\n  }\n\n  exitMeasurement(ctx) {\n    const val = this.input.substring(ctx.start.column, ctx.stop.stop + 1);\n    _.set(this.content, \"amount\", val);\n  }\n\n  getContent() {\n    return this.content;\n  }\n}\n\nclass SyntaxErrorListener extends antlr4.error.ErrorListener {\n  constructor() {\n    super();\n    this.hasError = false;\n  }\n\n  syntaxError(_recognizer, _offendingSymbol, _line, _column, _msg, _e) {\n    this.hasError = true;\n  }\n\n}\n\nexport default function parse(input) {\n\n  if (_.isEmpty(input)) return { foodName: \"\" };\n\n  const chars = new antlr4.InputStream(input);\n  const lowerCaseChars = new CaseChangingStream(chars, false);\n  const lexer = new FoodDescriptionLexer(lowerCaseChars);\n  const errorListener = new SyntaxErrorListener();\n  lexer.removeErrorListeners();\n  lexer.addErrorListener(errorListener);\n  const tokens = new antlr4.CommonTokenStream(lexer);\n  const parser = new FoodDescriptionParser(tokens);\n  parser.buildParseTrees = true;\n  const tree = parser.foodDescription();\n  const decomposer = new FoodDescriptionDecomposer(input);\n  antlr4.tree.ParseTreeWalker.DEFAULT.walk(decomposer, tree);\n\n  const parsed = decomposer.getContent();\n  if (errorListener.hasError) {\n    _.set(parsed, \"hasError\", true);\n  }\n  return parsed;\n}\n","import _ from 'lodash';\nimport parse from '../parser/foodDescription';\n\nexport default function decompose(foodDescription: string) {\n  const { foodName, amount, measurement } = parse(foodDescription);\n  const unitText = measurement?.unitText;\n  // put a space after a word\n  const foodNameCompleted = foodDescription.substr(_.size(foodName), 1) === \" \";\n  const unitCompleted = (amount && unitText) ? foodDescription.substr(_.size(foodDescription) - 1, 1) === \" \" : false;\n  return {\n    foodName,\n    amount,\n    foodNameCompleted,\n    unitCompleted,\n  };\n}\nexport type DecomposedFoodDescription = ReturnType<typeof decompose>;\n","import { Serving } from '../../model/Food';\n\nexport interface Suggestion {\n  foodName: string;\n  amount?: string;\n  serving?: Serving;\n  bestChoice?: boolean;\n}\n\nexport function createSuggestion(foodName: string, amount?: string) {\n  return amount ? { foodName, amount } : { foodName };\n}\n","import _ from \"lodash\";\nimport { PortionSuggestion } from \"./PortionSuggestion\";\nimport { portions as breakfastPortions } from \"./breakfast-portion.json\";\nimport { portions as sandwichPortions } from \"./sandwich-portion.json\";\nimport { portions as saladPortions } from \"./salad-portion.json\";\nimport { portions as soupPortions } from \"./soup-portion.json\";\nimport { portions as mainCoursePortions } from \"./main-course-portion.json\";\nimport { portions as sideDishPortions } from \"./side-dish-portion.json\";\nimport { portions as snackPortions } from \"./snack-portion.json\";\nimport { portions as dessertPortions } from \"./dessert-portion.json\";\nimport { portions as beveragePortions } from \"./beverage-portion.json\";\n\nfunction toSuggestion({foodName, portionSize, serving}: PortionSuggestion) {\n  return {\n    foodName,\n    amount: portionSize,\n    serving,\n  }\n}\n\nexport default _.concat<PortionSuggestion>(\n  breakfastPortions,\n  sandwichPortions,\n  saladPortions,\n  soupPortions,\n  mainCoursePortions,\n  sideDishPortions,\n  snackPortions,\n  dessertPortions,\n  beveragePortions,\n).map(toSuggestion);","import _ from \"lodash\";\nimport { servings as fruitServings } from \"./fruit-serving.json\";\nimport { servings as vegetableServings } from \"./vegetable-serving.json\";\nimport { servings as carbohydrateServings } from \"./carbohydrate-serving.json\";\nimport { servings as proteinDiaryServings } from \"./protein-diary-serving.json\";\nimport { servings as fatServings } from \"./fat-serving.json\";\nimport { servings as sweetServings } from \"./sweet-serving.json\";\nimport { ServingSuggestion } from \"./ServingSuggestion\";\nimport { oneServingOf } from \"../../../model/servingFunction\";\n\nconst vegetableServing = (serving: any) => ({ ...serving, foodGroup: \"vegetable\" });\nconst fruitServing = (serving: any) => ({ ...serving, foodGroup: \"fruit\" });\nconst carbohydrateServing = (serving: any) => ({ ...serving, foodGroup: \"carbohydrate\" });\nconst proteinDiaryServing = (serving: any) => ({ ...serving, foodGroup: \"proteinDiary\" });\nconst fatServing = (serving: any) => ({ ...serving, foodGroup: \"fat\" });\nconst sweetServing = (serving: any) => ({ ...serving, foodGroup: \"sweet\" });\n\nfunction toSuggestion({foodName, servingSize, foodGroup, bestChoice}: ServingSuggestion) {\n  return {\n    foodName,\n    amount: servingSize,\n    serving: oneServingOf(foodGroup),\n    bestChoice,\n  }\n}\n\nexport default _.concat(\n  _.map(vegetableServings, vegetableServing),\n  _.map(fruitServings, fruitServing),\n  _.map(carbohydrateServings, carbohydrateServing),\n  _.map(proteinDiaryServings, proteinDiaryServing),\n  _.map(fatServings, fatServing),\n  _.map(sweetServings, sweetServing),\n).map(toSuggestion);","import _ from \"lodash\";\nimport MiniSearch, { SearchOptions } from \"minisearch\";\nimport portions from \"../portion/portions\";\nimport servings from \"../serving/servings\";\n\nconst METRIC_UNITS = [\n  \"milliliter\",\n  \"liter\",\n  \"gram\",\n  \"kilogram\",\n]\n\nfunction addIndexAsId(obj: object, i: number) { return _.set(obj, \"id\", i); }\n\nfunction buildDocuments(list: { amount: string }[]) {\n  const fullList = _.concat(\n    _.map(list, ({ amount }) => { return { unitText: amount } }),\n    _.map(METRIC_UNITS, unitText => { return { unitText } })\n  );\n  const miniSearch = new MiniSearch({\n    fields: ['unitText']\n  })\n\n  miniSearch.addAll(_.map(fullList, addIndexAsId));\n  return miniSearch;\n\n}\n\nconst miniSearch = buildDocuments(_.concat(servings, portions));\n\nfunction autoComplete(miniSearch: MiniSearch, partialUnit: string) {\n  const options: SearchOptions = {\n    fuzzy: true,\n    combineWith: \"AND\",\n  };\n  return _.map(miniSearch.autoSuggest(partialUnit, options), \"suggestion\");\n}\n\nexport default _.partial(autoComplete, miniSearch);","import _ from 'lodash';\nimport MiniSearch, { SearchOptions, SearchResult } from 'minisearch';\n\nfunction addIndexAsId(obj: object, i: number) { return _.set(obj, \"id\", i); }\n\nfunction find<T>(list: T[], res: SearchResult) {\n  return list[res.id];\n}\n\nexport function buildDocuments<T extends object>(list: T[]) {\n  const miniSearch = new MiniSearch({\n    fields: ['foodName']\n  })\n\n  miniSearch.addAll(_.map(list, addIndexAsId));\n  return {\n    miniSearch,\n    lookUp: _.partial(find, list),\n  }\n}\n\nfunction perform<T>(miniSearch: MiniSearch<T>, foodName: string) {\n  const options = { fuzzy: true };\n  return miniSearch.search(foodName, options);\n}\n\nexport function search<T>(\n  docs: { miniSearch: MiniSearch<T>, lookUp: (res: SearchResult) => T },\n  foodName: string\n) {\n  const { miniSearch, lookUp } = docs;\n  return _.map(perform(miniSearch, foodName), lookUp);\n}\n\nexport function autoSuggest<T>(\n  docs: { miniSearch: MiniSearch<T> },\n  partialFoodName: string) {\n  const { miniSearch } = docs;\n  const options: SearchOptions = {\n    fuzzy: true,\n    combineWith: \"AND\",\n  };\n  return _.map(miniSearch.autoSuggest(partialFoodName, options), \"suggestion\");\n}","import _ from \"lodash\";\nimport { Serving } from \"../../../model/Food\";\nimport portions from \"../portion/portions\";\nimport { buildDocuments, search, autoSuggest } from \"./foodNameMiniSearch\";\nimport servings from \"../serving/servings\";\nimport parseAmount from \"../parser/DecomposedAmount\";\nimport { isMeasurementConvertible, Unit } from \"../convert\";\n\nexport interface PredefinedSuggestion {\n  foodName: string;\n  amount: string;\n  serving: Serving;\n  bestChoice?: boolean;\n}\n\nconst suggestions = buildDocuments<PredefinedSuggestion>(_.concat(servings, portions));\n\nconst searchFoodServingPortionSize = (foodName: string) =>\n  search(suggestions, foodName);\n\nconst autoComplete = _.partial(autoSuggest, suggestions);\n\nfunction foodNameStartsWith(suggestion: { foodName: string }, foodName: string) {\n  return _.startsWith(_.lowerCase(suggestion.foodName), _.lowerCase(foodName));\n}\n\nfunction minTermDistance(suggestion: PredefinedSuggestion, terms: string[]) {\n  const distances = _.map(_.map(terms, _.lowerCase), function (term) {\n    const pos = _.lowerCase(suggestion.foodName).indexOf(term);\n    const notFound = pos < 0;\n    return notFound ? Number.MAX_SAFE_INTEGER : pos;\n  });\n  return _.head(_.sortBy(distances));\n}\n\nfunction matchedWordCount(suggestion: PredefinedSuggestion, terms: string[]) {\n  const words = _.words(_.lowerCase(suggestion.foodName));\n  return _.sum(_.map(_.map(terms, _.lowerCase), word => words.includes(word) ? 1 : 0));\n}\n\nfunction rank(suggestion: PredefinedSuggestion, searchRank: number, foodName: string) {\n  const prefixRank = foodNameStartsWith(suggestion, foodName) ? 0 : 1;\n  const termDistanceRank = minTermDistance(suggestion, _.words(foodName));\n  const matchedWordRank = _.size(_.words(foodName)) - matchedWordCount(suggestion, _.words(foodName));\n  return {\n    suggestion,\n    prefixRank,\n    matchedWordRank,\n    termDistanceRank,\n    searchRank,\n  }\n}\n\nfunction measurementsOf(suggestion: { amount: string }) {\n  const { measurement, alternateMeasurement } = parseAmount(suggestion.amount);\n  return alternateMeasurement ? [measurement, alternateMeasurement] : [measurement];\n}\n\nfunction isSuggestionConvertible(suggestion: { amount: string }, fromUnit: Unit | undefined) {\n  // incomplete input, assume convertible\n  if (_.isUndefined(fromUnit)) return true;\n\n  const isAnyMeasurementConvertibleFromUnit = (result: boolean, measurement: { unit: Unit }) => {\n    return result || isMeasurementConvertible(fromUnit, measurement);\n  }\n  return _.reduce(measurementsOf(suggestion), isAnyMeasurementConvertibleFromUnit, false);\n}\n\nexport function findSuggestions(foodName: string, options?: { convertibleFrom?: Unit }) {\n  const isSuggestionConvertibleFromUnit = _.partial(isSuggestionConvertible, _, options?.convertibleFrom);\n  const results = _.slice(searchFoodServingPortionSize(foodName), 0, 5)\n    .filter(isSuggestionConvertibleFromUnit);\n  const ranked = _.sortBy(_.map(results, _.partial(rank, _, _, foodName)),\n    [\n      'prefixRank',\n      'matchedWordRank',\n      'termDistanceRank',\n      'searchRank',\n    ]\n  );\n  return _.map(ranked, 'suggestion');\n}\n\nexport function findNameSuggestions(foodName: string) {\n  const shouldCapitalized = (foodName === _.capitalize(foodName));\n  const format = (s: string) => shouldCapitalized ? _.capitalize(s) : s;\n  const results = autoComplete(foodName)\n    .map(format)\n    .map(foodName => ({ foodName }))\n  return _.size(results) === 0 ? [{ foodName }] : _.slice(results, 0, 5);\n}","import _ from 'lodash';\nimport parseAmount, { DecomposedAmount } from '../parser/DecomposedAmount';\nimport { createSuggestion, Suggestion } from '../Suggestion';\nimport autoCompleteUnit from './unitMiniSearch';\nimport { DecomposedFoodDescription } from '../parser/DecomposedFoodDescription';\nimport { findNameSuggestions } from './foodNameSearch';\n\nexport default function findAutoCompletions(foodDescription: DecomposedFoodDescription): Suggestion[] {\n  const { foodName, amount, foodNameCompleted, unitCompleted } = foodDescription;\n  if (foodNameCompleted) {\n    if (amount && !unitCompleted) {\n      const suggestionWithAmount = _.partial(createSuggestion, foodName);\n      const amountAutoCompletions = findAmountAutoCompletions(parseAmount(amount))\n        .map(suggestionWithAmount);\n      if (_.size(amountAutoCompletions) > 0)\n        return amountAutoCompletions;\n    }\n    return [createSuggestion(foodName, amount)];\n  }\n  return findNameSuggestions(foodName);\n}\n\nfunction findAmountAutoCompletions(amount: DecomposedAmount) {\n  const { measurement } = amount;\n  const { unit, unitText, amountWithUnitText } = measurement;\n\n  if (unit === \"unknown\" && unitText) {\n    return _.map(autoCompleteUnit(unitText))\n      .slice(0, 2)\n      .map(amountWithUnitText);\n  } else {\n    return [];\n  }\n}\n","import _ from 'lodash';\nimport { Serving } from '../../../model/Food';\nimport { multiply } from '../../../model/servingFunction';\nimport parseAmount, { DecomposedAmount } from '../parser/DecomposedAmount';\nimport convert, { isMeasurementConvertible, Unit } from '../convert';\n\nfunction measurementFor(unit: Unit, { measurement, alternateMeasurement }: DecomposedAmount) {\n  if (unit === \"unknown\") {\n    if (alternateMeasurement && alternateMeasurement.unit === \"unknown\") {\n      return alternateMeasurement;\n    }\n    return measurement;\n  };\n\n  const isUnitConvertibleTo = _.partial(isMeasurementConvertible, unit);\n  if (isUnitConvertibleTo(measurement)) {\n    return measurement;\n  } else if (alternateMeasurement && isUnitConvertibleTo(alternateMeasurement)) {\n    return alternateMeasurement;\n  }\n  return measurement;\n}\n\nfunction servingFor(unitServing: Serving, servingAmount: DecomposedAmount, amount: string) {\n  const from = parseAmount(amount).measurement;\n  const to = measurementFor(from.unit, servingAmount);\n\n  try {\n    const normalizedQuantity = convert(from.quantity, from.unit, to.unit);\n    if (_.isNaN(normalizedQuantity)) return undefined;\n    return multiply(unitServing, _.round(normalizedQuantity / to.quantity, 3));\n  } catch (e) {\n    return undefined;\n  }\n}\n\nexport default function baseOn(suggestion: { serving: Serving; amount: string }) {\n  const { serving, amount } = suggestion;\n  const servingAmount = parseAmount(amount);\n  return {\n    servingFor: _.partial(servingFor, serving, servingAmount)\n  }\n}","import _ from 'lodash';\nimport { Suggestion } from \"../Suggestion\";\nimport baseOn from './calculateServing';\nimport { PredefinedSuggestion } from '../search/foodNameSearch';\n\nexport function generateAutoSuggestion(autoCompletion: Suggestion, suggestions: PredefinedSuggestion[]) {\n  if (_.size(suggestions) === 0) return null;\n\n  const bestMatch = suggestions[0];\n  return createAutoSuggestion(autoCompletion, bestMatch);\n}\n\nfunction createAutoSuggestion(nameSuggestion: Suggestion, suggestion: PredefinedSuggestion) {\n  const { foodName, amount } = nameSuggestion;\n  const autoSuggestion = {\n    ...suggestion,\n    foodName\n  };\n  if (amount) {\n    const serving = baseOn(suggestion).servingFor(amount);\n    return {\n      ...autoSuggestion,\n      amount,\n      serving,\n    }\n  }\n\n  return autoSuggestion;\n}\n","import _ from 'lodash';\nimport parseAmount from '../parser/DecomposedAmount';\nimport decompose from '../parser/DecomposedFoodDescription';\nimport findAutoCompletions from '../search/autoCompletion';\nimport { findSuggestions } from '../search/foodNameSearch';\nimport { Suggestion } from '../Suggestion';\nimport { generateAutoSuggestion } from './autoSuggestion';\n\nfunction unitOfMeasurement(amount?: string) {\n  if (_.isUndefined(amount)) return undefined;\n\n  const { measurement } = parseAmount(amount);\n  return measurement.unit;\n}\n\nexport function generateSuggestions(\n  foodDescriptionRef: React.MutableRefObject<String>,\n  callback: (suggestions: Suggestion[]) => void\n) {\n  const foodDescription = decompose(foodDescriptionRef.current + \"\");\n  const autoCompletions = findAutoCompletions(foodDescription);\n\n  const firstAutoCompletion = autoCompletions[0];\n  const servingSuggestions = findSuggestions(foodDescription.foodName, { convertibleFrom: unitOfMeasurement(firstAutoCompletion.amount) });\n  const allSuggestions = _.concat(autoCompletions, generateAutoSuggestion(firstAutoCompletion, servingSuggestions), servingSuggestions);\n  const results = _.uniqWith(_.compact(allSuggestions), _.isEqual)\n    .slice(0, 5);\n  return callback(results);\n}\n","import { AnyAction, combineReducers, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport _ from \"lodash\";\nimport { useEffect, useReducer, useRef } from \"react\";\nimport { generateSuggestions, Suggestion } from \"../../features/suggestions\";\nimport { Food, FoodGroup, Serving } from \"../../model/Food\";\n\ninterface ValidationError {\n  foodName?: boolean;\n  vegetable?: boolean;\n  fruit?: boolean;\n  carbohydrate?: boolean;\n  proteinDiary?: boolean;\n  fat?: boolean;\n  sweet?: boolean;\n}\n\nconst suggestions = createSlice({\n  name: \"suggestions\",\n  initialState: [] as Suggestion[],\n  reducers: {\n    setSuggestions: (_state, action: PayloadAction<Suggestion[]>) => {\n      return action.payload;\n    },\n  }\n})\nconst {\n  setSuggestions, \n} = suggestions.actions;\n\nconst food = createSlice({\n  name: \"food\",\n  initialState: { name: \"\", serving: {} } as Food,\n  reducers: {\n    setName(state, action: PayloadAction<string>) {\n      state.name = action.payload\n    },\n    setServing(state, action: PayloadAction<Serving>) {\n      state.serving = action.payload;\n    },\n    setFoodGroupServing(state, action: PayloadAction<{ foodGroup: FoodGroup; serving: number }>) {\n      _.set(state.serving, action.payload.foodGroup, action.payload.serving)\n    },\n    unsetFoodGroupServing(state, action: PayloadAction<FoodGroup>) {\n      _.unset(state.serving, action.payload)\n    },\n  },\n})\nconst { setName, setServing, setFoodGroupServing, unsetFoodGroupServing } = food.actions;\n\nconst error = createSlice({\n  name: \"error\",\n  initialState: {} as ValidationError,\n  reducers: {\n    validationFailed: (state, action) => _.assign(state, action.payload),\n  },\n  extraReducers: builder => {\n    builder\n      .addCase(setName, (state, action) => {\n        state.foodName = _.isEmpty(action.payload);\n      })\n      .addCase(setFoodGroupServing, (state, action) => {\n        state[action.payload.foodGroup] = lessThanZero(action.payload.serving);\n      })\n      .addCase(unsetFoodGroupServing, (state, action) => {\n        state[action.payload] = false;\n      })\n  }\n})\nconst { validationFailed } = error.actions;\n\nconst reducer = combineReducers({\n  food: food.reducer,\n  error: error.reducer,\n  suggestions: suggestions.reducer,\n})\n\nfunction initialState(food: Food) {\n  return {\n    food,\n    error: {},\n    suggestions: []\n  };\n}\n\nfunction lessThanZero(val?: number) { return (_.toNumber(val) < 0); }\n\nfunction validateFood(food: Food): ValidationError {\n  const { name, serving } = food;\n  return {\n    foodName: _.isEmpty(name),\n    vegetable: lessThanZero(serving.vegetable),\n    fruit: lessThanZero(serving.fruit),\n    carbohydrate: lessThanZero(serving.carbohydrate),\n    proteinDiary: lessThanZero(serving.proteinDiary),\n    fat: lessThanZero(serving.fat),\n    sweet: lessThanZero(serving.sweet),\n  };\n}\n\nfunction checkValidity(error: ValidationError) {\n  const or = (res: boolean, val: boolean | undefined) => res || _.defaultTo(val, false);\n  const failed = _.reduce(_.values(error), or, false);\n  return !failed;\n}\n\nconst debouncedGenerateSuggestions = _.debounce(generateSuggestions, 500, { maxWait: 2000 });\n\nconst updateFoodName = (dispatch: React.Dispatch<AnyAction>, generateSuggestions: (desc: string) => void, name: string) => {\n  dispatch(setName(name));\n  generateSuggestions(name);\n}\n\nconst updateFoodNameServing = (dispatch: React.Dispatch<AnyAction>, name: string, serving?: Serving) => {\n  dispatch(setName(name));\n  serving && dispatch(setServing(serving));\n}\n\nconst updateFoodGroupServing = (dispatch: React.Dispatch<AnyAction>, foodGroup: FoodGroup, serving: number) =>\n  serving ? dispatch(setFoodGroupServing({ foodGroup, serving })) : dispatch(unsetFoodGroupServing(foodGroup));\n\nconst handleSubmit = (\n  dispatch: React.Dispatch<AnyAction>,\n  state: { food: Food },\n  onSaveFood: (food: Food) => void,\n  event: React.FormEvent<HTMLFormElement>\n) => {\n  const error = validateFood(state.food);\n  if (checkValidity(error) === false) {\n    event.preventDefault();\n    event.stopPropagation();\n    dispatch(validationFailed(error));\n  } else {\n    onSaveFood(state.food);\n    event.preventDefault();\n  }\n}\n\nexport function useFoodInputFormStateReducer(initialFood: Food, onSaveFood: (food: Food) => void) {\n  const [state, dispatch] = useReducer(reducer, initialFood, initialState);\n\n  const descRef = useRef(initialFood.name);\n  const setSuggestionsCallback = (suggestions: Suggestion[]) => {\n    dispatch(setSuggestions(suggestions));\n  }\n\n  const generateSuggestions = (desc: string) => {\n    descRef.current = desc;\n    debouncedGenerateSuggestions(descRef, setSuggestionsCallback);\n  }\n\n  useEffect(() => {\n    debouncedGenerateSuggestions(descRef, setSuggestionsCallback);\n  }, [descRef, dispatch])\n\n  const fns = {\n    updateFoodName: _.partial(updateFoodName, dispatch, generateSuggestions),\n    updateFoodNameServing: _.partial(updateFoodNameServing, dispatch),\n    updateFoodGroupServing: _.partial(updateFoodGroupServing, dispatch),\n    handleSubmit: _.partial(handleSubmit, dispatch, state, onSaveFood),\n  }\n  return [state, fns] as [typeof state, typeof fns];\n}\n","import { Button, Form } from \"react-bootstrap\";\nimport { calcFoodCalories, displayCalorieValue } from \"../../model/calorieFunction\";\nimport { Food } from \"../../model/Food\";\nimport { FoodNameInputControl } from \"./FoodNameInputControl\";\nimport { ServingInputControl } from \"./ServingInputControl\";\nimport { useFoodInputFormStateReducer } from \"./useFoodInputFormStateReducer\";\n\nexport type ButtonLabel = \"Add\" | \"Update\";\n\ninterface Props {\n  food: Food;\n  buttonLabel: ButtonLabel;\n  onSaveFood: (food: Food) => void;\n  onCancel: () => void\n}\n\nexport const FoodInputForm = (props: Props) => {\n  const [state, fns] = useFoodInputFormStateReducer(props.food, props.onSaveFood);\n  const { food, error, suggestions } = state;\n  const { updateFoodName, updateFoodNameServing, updateFoodGroupServing, handleSubmit } = fns;\n\n  return (\n    <Form\n      noValidate\n      onSubmit={handleSubmit}\n      className=\"border p-1\"\n    >\n      <Form.Group as={Form.Row} className=\"ml-1 mr-1\">\n        <FoodNameInputControl\n          foodName={food.name}\n          suggestions={suggestions}\n          invalid={error.foodName}\n          updateFoodName={updateFoodName}\n          updateFoodNameServing= {updateFoodNameServing}\n        />\n      </Form.Group>\n\n      <Form.Group>\n        <Form.Label>Servings (Calories: {displayCalorieValue(calcFoodCalories(food))})</Form.Label>\n        <Form.Group as={Form.Row} controlId=\"formServings\" className=\"d-flex justify-content-between\">\n          <ServingInputControl foodGroup=\"vegetable\" serving={food.serving} isInvalid={error.vegetable} onChange={updateFoodGroupServing} />\n          <ServingInputControl foodGroup=\"fruit\" serving={food.serving} isInvalid={error.fruit} onChange={updateFoodGroupServing} />\n          <ServingInputControl foodGroup=\"carbohydrate\" serving={food.serving} isInvalid={error.carbohydrate} onChange={updateFoodGroupServing} />\n          <ServingInputControl foodGroup=\"proteinDiary\" serving={food.serving} isInvalid={error.proteinDiary} onChange={updateFoodGroupServing} />\n          <ServingInputControl foodGroup=\"fat\" serving={food.serving} isInvalid={error.fat} onChange={updateFoodGroupServing} />\n          <ServingInputControl foodGroup=\"sweet\" serving={food.serving} isInvalid={error.sweet} onChange={updateFoodGroupServing} />\n        </Form.Group>\n      </Form.Group>\n\n      <div className=\"d-flex justify-content-end\">\n        <Button className=\"mr-1 order-sm-1\" variant=\"outline-secondary\" onClick={props.onCancel}>Cancel</Button>\n        <Button className=\"mr-1 order-sm-0\" type=\"submit\" variant=\"outline-primary\">{props.buttonLabel}</Button>\n      </div>\n    </Form>\n  )\n}","import { connect } from \"react-redux\";\nimport { AppDispatch } from \"../../app/store\";\nimport { ButtonLabel, FoodInputForm } from \"../../components/input-form/FoodInputForm\";\nimport { Food, newFood } from \"../../model/Food\";\nimport { addFood, cancelAddFood } from \"../day-page/mealStatesSlice\";\n\nconst mapStateToProps = () => ({\n  food: newFood(),\n  buttonLabel: \"Add\" as ButtonLabel,\n})\n\nconst mapDispatchToProps = (dispatch: AppDispatch, { mealIndex }: { mealIndex: number }) => ({\n  onSaveFood: (food: Food) => dispatch(addFood({ mealIndex, food })),\n  onCancel: () => dispatch(cancelAddFood({ mealIndex })),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FoodInputForm);","import { connect } from \"react-redux\";\nimport { AppDispatch } from \"../../app/store\";\nimport { ButtonLabel, FoodInputForm } from \"../../components/input-form/FoodInputForm\";\nimport { Food } from \"../../model/Food\";\nimport { exitFoodEditMode, updateFood } from \"../day-page/mealStatesSlice\";\n\nconst mapStateToProps = () => ({\n  buttonLabel: \"Update\" as ButtonLabel,\n})\n\nconst mapDispatchToProps = (dispatch: AppDispatch, ownProps: { food: Food; mealIndex: number; foodIndex: number; }) => ({\n  onSaveFood: (food: Food) => {\n    dispatch(updateFood({...ownProps, food}));\n    dispatch(exitFoodEditMode(ownProps));\n  },\n  onCancel: () => dispatch(exitFoodEditMode(ownProps)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FoodInputForm);","import { connect } from \"react-redux\";\nimport { AppDispatch } from \"../../app/store\";\nimport { PrimaryButton } from \"../../components/buttons/PrimaryButton\";\nimport { enterFoodEditMode } from \"../day-page/mealStatesSlice\";\n\nconst mapStateToProps = () => ({\n  label: \"Edit\",\n})\n\nconst mapDispatchToProps = (dispatch: AppDispatch, ownProps: { mealIndex: number; foodIndex: number }) => ({\n  onClick: () => dispatch(enterFoodEditMode(ownProps)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PrimaryButton);","import { connect } from \"react-redux\";\nimport { AppDispatch } from \"../../app/store\";\nimport { AddButton } from \"../../components/buttons/AddButton\";\nimport { enterMealAddMode } from \"../day-page/mealStatesSlice\";\n\nconst mapDispatchToProps = (dispatch: AppDispatch, ownProps: { mealIndex: number; }) => ({\n  onClick: () => dispatch(enterMealAddMode(ownProps)),\n})\n\nexport default connect(null, mapDispatchToProps)(AddButton);","import { Food } from \"../model/Food\";\nimport { FoodGroupServingBadgePanel } from \"./panels/FoodGroupServingBadgePanel\";\n\nexport const FoodItem = (props: { food: Food; }) => {\n  const { name, serving } = props.food;\n  return (\n    <div className=\"d-flex flex-fill align-items-center\">\n      <div className=\"mr-auto\">{name}</div>\n      <FoodGroupServingBadgePanel serving={serving}/>\n    </div>\n  );\n}\n","import { connect } from \"react-redux\";\nimport { AppDispatch } from \"../../app/store\";\nimport { DangerButton } from \"../../components/buttons/DangerButton\";\nimport { deleteMeal } from \"../day-page/mealStatesSlice\";\n\nconst mapStateToProps = () => ({\n  label: \"Delete\",\n})\n\nconst mapDispatchToProps = (dispatch: AppDispatch, ownProps: { mealIndex: number }) => ({\n  onClick: () => dispatch(deleteMeal(ownProps.mealIndex)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DangerButton);","import { connect } from \"react-redux\";\nimport { AppDispatch } from \"../../app/store\";\nimport { PrimaryButton } from \"../../components/buttons/PrimaryButton\";\nimport { exitMealEditMode } from \"../day-page/mealStatesSlice\";\n\nconst mapStateToProps = () => ({\n  label: \"Done\",\n})\n\nconst mapDispatchToProps = (dispatch: AppDispatch, ownProps: { mealIndex: number }) => ({\n  onClick: () => dispatch(exitMealEditMode(ownProps)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PrimaryButton);","import { connect } from \"react-redux\";\nimport { AppDispatch } from \"../../app/store\";\nimport { PrimaryButton } from \"../../components/buttons/PrimaryButton\";\nimport { enterMealEditMode } from \"../day-page/mealStatesSlice\";\n\nconst mapStateToProps = () => ({\n  label: \"Edit\",\n})\n\nconst mapDispatchToProps = (dispatch: AppDispatch, ownProps: { mealIndex: number }) => ({\n  onClick: () => dispatch(enterMealEditMode(ownProps)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PrimaryButton);","import { connect } from \"react-redux\";\nimport { RootState } from \"../../app/store\";\nimport { CalorieServingPanel } from \"../../components/panels/CalorieServingPanel\";\nimport { calcMealCalories } from \"../../model/calorieFunction\";\nimport { Meal } from \"../../model/Food\";\nimport { calcServingSummary } from \"../../model/servingFunction\";\n\nconst mapStateToProps = (_state: RootState, ownProps: { meal: Meal; }) => ({\n  calorie: calcMealCalories(ownProps.meal),\n  serving: calcServingSummary(ownProps.meal),\n})\n\nexport default connect(mapStateToProps)(CalorieServingPanel);","import { connect } from \"react-redux\";\nimport { AppDispatch } from \"../../app/store\";\nimport { SecondaryButton } from \"../../components/buttons/SecondaryButton\";\nimport { enterMealNameMode } from \"../day-page/mealStatesSlice\";\n\nconst mapStateToProps = () => ({\n  label: \"Name\",\n})\n\nconst mapDispatchToProps = (dispatch: AppDispatch, ownProps: { mealIndex: number }) => ({\n  onClick: () => dispatch(enterMealNameMode(ownProps)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SecondaryButton);","import _ from \"lodash\";\nimport { Card } from \"react-bootstrap\";\nimport DeleteButton from \"../../features/meal-card/DeleteButton\";\nimport DoneButton from \"../../features/meal-card/DoneButton\";\nimport EditButton from \"../../features/meal-card/EditButton\";\nimport MealCalorieServingPanel from \"../../features/meal-card/MealCalorieServingPanel\";\nimport NameButton from \"../../features/meal-card/NameButton\";\nimport { Meal } from \"../../model/Food\";\n\nexport const DefaultMealCardHeader = (props: {\n  meal: Meal;\n  mealIndex: number;\n}) => (\n  <Card.Header className=\"d-flex flex-wrap align-items-center\">\n    <div className=\"flex-fill order-sm-0\">{props.meal.mealTime}</div>\n    <div className=\"order-sm-2\">\n      {_.size(props.meal.foods) > 1 && <NameButton mealIndex={props.mealIndex} />}&nbsp;\n      <EditButton mealIndex={props.mealIndex} />\n    </div>\n    <div className=\"order-sm-1 flex-grow-1 flex-md-grow-0\">\n      <MealCalorieServingPanel meal={props.meal} />\n    </div>\n  </Card.Header>\n)\n\nexport const AddMealCardHeader = (props: {\n  meal: Meal;\n  mealIndex: number;\n}) => (\n  <Card.Header className=\"d-flex flex-wrap align-items-center\">\n    <div className=\"flex-fill order-sm-0\">{props.meal.mealTime}</div>\n    <div className=\"order-sm-2\">\n      <DeleteButton mealIndex={props.mealIndex} />&nbsp;\n      <EditButton mealIndex={props.mealIndex} />\n    </div>\n    <div className=\"order-sm-1 flex-grow-1 flex-md-grow-0\">\n      <MealCalorieServingPanel meal={props.meal} />\n    </div>\n  </Card.Header>\n)\n\nexport const EditMealCardHeader = (props: {\n  meal: Meal;\n  mealIndex: number;\n}) => (\n  <Card.Header className=\"d-flex flex-wrap align-items-center\">\n    <div className=\"flex-fill order-sm-0\">{props.meal.mealTime}</div>\n    <div className=\"order-sm-2\">\n      <DeleteButton mealIndex={props.mealIndex} />&nbsp;\n      <DoneButton mealIndex={props.mealIndex} />\n    </div>\n    <div className=\"order-sm-1 flex-grow-1 flex-md-grow-0\">\n      <MealCalorieServingPanel meal={props.meal} />\n    </div>\n  </Card.Header>\n)\n\nexport const NameMealCardHeader = (props: {\n  meal: Meal;\n  mealIndex: number;\n}) => (\n  <Card.Header className=\"d-flex flex-wrap align-items-center\">\n    <div className=\"flex-fill order-sm-0\">{props.meal.mealTime}</div>\n    <div className=\"order-sm-2\">\n      <EditButton mealIndex={props.mealIndex} />\n    </div>\n    <div className=\"order-sm-1 flex-grow-1 flex-md-grow-0\">\n      <MealCalorieServingPanel meal={props.meal} />\n    </div>\n  </Card.Header>\n)","import _ from \"lodash\";\nimport { Card, ListGroup } from \"react-bootstrap\";\nimport { MealState } from \"../../features/day-page/mealStatesSlice\";\nimport NameFoodForm from \"../../features/name-food/NameFoodForm\";\nimport AddFoodInputForm from \"../../features/input-form/AddFoodInputForm\";\nimport UpdateFoodInputForm from \"../../features/input-form/UpdateFoodInputForm\";\nimport EditFoodButton from \"../../features/meal-card/EditFoodButton\";\nimport NewFoodButton from \"../../features/meal-card/NewFoodButton\";\nimport { Meal } from \"../../model/Food\";\nimport { FoodItem } from \"../FoodItem\";\nimport { AddMealCardHeader, DefaultMealCardHeader, EditMealCardHeader, NameMealCardHeader } from \"./MealCardHeader\";\n\nconst DefaultMealCard = (props: { meal: Meal; mealIndex: number; }) => {\n  const { foods } = props.meal;\n\n  return (\n    <Card className=\"mt-1\">\n      <DefaultMealCardHeader meal={props.meal} mealIndex={props.mealIndex} />\n\n      <ListGroup>\n        {\n          foods.map((food, index) => (\n            <ListGroup.Item key={index}>\n              <FoodItem food={food} />\n            </ListGroup.Item>\n          ))\n        }\n      </ListGroup>\n    </Card>\n  );\n};\n\nconst EditMealCard = (props: { meal: Meal; mealIndex: number; foodEditIndex?: number; }) => {\n  const { foods } = props.meal;\n\n  return (\n    <Card className=\"mt-1\">\n      <EditMealCardHeader meal={props.meal} mealIndex={props.mealIndex} />\n\n      <ListGroup>\n        {\n          foods.map((food, index) => (\n            <ListGroup.Item key={index}>\n              {index === props.foodEditIndex\n                ? <UpdateFoodInputForm food={food} mealIndex={props.mealIndex} foodIndex={index} />\n                : <div className=\"d-flex align-items-center\">\n                  <FoodItem food={food} />\n                  <EditFoodButton mealIndex={props.mealIndex} foodIndex={index} />\n                </div>\n              }\n            </ListGroup.Item>\n          ))\n        }\n        <ListGroup.Item>\n          <NewFoodButton mealIndex={props.mealIndex} />\n        </ListGroup.Item>\n      </ListGroup>\n    </Card>\n  );\n};\n\nconst AddMealCard = (props: { meal: Meal; mealIndex: number; }) => {\n  const { foods } = props.meal;\n\n  return (\n    <Card className=\"mt-1\">\n      <AddMealCardHeader meal={props.meal} mealIndex={props.mealIndex} />\n\n      <ListGroup>\n        {\n          foods.map((food, index) => (\n            <ListGroup.Item key={index}>\n              <FoodItem food={food} />\n            </ListGroup.Item>\n          ))\n        }\n        <ListGroup.Item key={_.size(foods)}>\n          <AddFoodInputForm mealIndex={props.mealIndex} />\n        </ListGroup.Item>\n      </ListGroup>\n    </Card>\n  );\n};\n\nconst NameMealCard = (props: { meal: Meal; mealIndex: number; }) => {\n\n  return (\n    <Card className=\"mt-1\">\n      <NameMealCardHeader meal={props.meal} mealIndex={props.mealIndex} />\n\n      <ListGroup>\n        <ListGroup.Item >\n          <NameFoodForm mealIndex={props.mealIndex} />\n        </ListGroup.Item>\n      </ListGroup>\n    </Card>\n  );\n};\n\nexport const EditableMealCard = (props: { state: MealState; mealIndex: number; }) => {\n  const { state, mealIndex } = props;\n  const { meal, editState, foodEditIndex } = state;\n\n  switch (editState) {\n    case \"add\":\n      return <AddMealCard meal={meal} mealIndex={mealIndex} />\n    case \"edit\":\n      return <EditMealCard meal={meal} mealIndex={mealIndex} foodEditIndex={foodEditIndex} />\n    case \"name\":\n      return <NameMealCard meal={meal} mealIndex={mealIndex} />\n    default:\n      return <DefaultMealCard meal={meal} mealIndex={mealIndex} />\n  }\n};\n","import { displayCalorieValue } from \"../../model/calorieFunction\";\n\nexport const CalorieSummary = (props: { calories: number; }) => (\n  <div className=\"d-flex flex-column justify-content-center border rounded bg-info text-white text-center p-1\">\n    <div style={{ fontSize: '40px', width: '110px' }}>{displayCalorieValue(props.calories)}</div>\n    <div>calories</div>\n  </div>\n);\n","import { connect } from \"react-redux\";\nimport { totalCaloriesSelector } from \"../../app/selectors\";\nimport { RootState } from \"../../app/store\";\nimport { CalorieSummary } from \"../../components/summary/CalorieSummary\";\n\nconst mapStateToProps = (state: RootState) => ({\n  calories: totalCaloriesSelector(state),\n})\n\n\nexport default connect(mapStateToProps)(CalorieSummary);","import { FoodGroup, Serving } from \"../../model/Food\";\nimport { displayServingValue } from \"../../model/servingFunction\";\nimport { FoodGroupLabelBadge } from \"../badge\";\n\nconst FoodGroupLabel = (props: { foodGroup: FoodGroup; }) => (\n  <FoodGroupLabelBadge foodGroup={props.foodGroup} />\n)\n\nconst ServingCell = (props: { foodGroup: FoodGroup; amount?: number; }) => (\n  <div className=\"d-flex flex-column align-items-center mx-1\">\n    <div>{displayServingValue(props.amount)}</div>\n    <FoodGroupLabel foodGroup={props.foodGroup} />\n  </div>\n);\n\nexport const CompactServingSummary = (props: { serving: Serving; }) => (\n  <div className=\"d-flex justify-content-between flex-fill flex-wrap\">\n    <ServingCell foodGroup=\"vegetable\" amount={props.serving.vegetable} />\n    <ServingCell foodGroup=\"fruit\" amount={props.serving.fruit} />\n    <ServingCell foodGroup=\"carbohydrate\" amount={props.serving.carbohydrate} />\n    <ServingCell foodGroup=\"proteinDiary\" amount={props.serving.proteinDiary} />\n    <ServingCell foodGroup=\"fat\" amount={props.serving.fat} />\n    <ServingCell foodGroup=\"sweet\" amount={props.serving.sweet} />\n  </div>\n);\n","import { FoodGroup, Serving } from \"../../model/Food\";\nimport { displayServingValue } from \"../../model/servingFunction\";\nimport { FoodGroupLegend } from \"../FoodGroupLegend\";\n\nconst ServingCell = (props: { foodGroup: FoodGroup; amount?: number; }) => (\n  <div className=\"d-flex flex-column justify-content-end m-1\">\n    <div className=\"text-center\" style={{ fontSize: '32px', minWidth: '110px' }}>{displayServingValue(props.amount)}</div>\n    <FoodGroupLegend foodGroup={props.foodGroup} />\n  </div>\n);\n\nexport const FullSizeServingSummary = (props: { serving: Serving; }) => (\n  <div className=\"d-flex justify-content-between flex-fill flex-wrap\">\n    <ServingCell foodGroup=\"vegetable\" amount={props.serving.vegetable} />\n    <ServingCell foodGroup=\"fruit\" amount={props.serving.fruit} />\n    <ServingCell foodGroup=\"carbohydrate\" amount={props.serving.carbohydrate} />\n    <ServingCell foodGroup=\"proteinDiary\" amount={props.serving.proteinDiary} />\n    <ServingCell foodGroup=\"fat\" amount={props.serving.fat} />\n    <ServingCell foodGroup=\"sweet\" amount={props.serving.sweet} />\n  </div>\n);\n","import { Serving } from \"../../model/Food\";\nimport { CompactServingSummary } from \"./CompactServingSummary\";\nimport { FullSizeServingSummary } from \"./FullSizeServingSummary\";\n\nexport const ServingSummary = (props: { serving: Serving; }) => (\n  <div>\n    <div className=\"d-block d-sm-none\">\n      <CompactServingSummary {...props} />\n    </div>\n    <div className=\"d-none d-sm-block\">\n      <FullSizeServingSummary {...props} />\n    </div>\n  </div>\n)","import { connect } from \"react-redux\";\nimport { totalServingSelector } from \"../../app/selectors\";\nimport { RootState } from \"../../app/store\";\nimport { ServingSummary } from \"../../components/summary/ServingSummary\";\n\nconst mapStateToProps = (state: RootState) => ({\n  serving: totalServingSelector(state),\n})\n\n\nexport default connect(mapStateToProps)(ServingSummary);","import CalorieSummary from \"../../features/summary/CalorieSummary\";\nimport ServingSummary from \"../../features/summary/ServingSummary\";\n\nexport const CalorieServingSummary = () => (\n  <div className=\"d-flex\">\n    <CalorieSummary />\n    <div className=\"flex-fill\">\n      <ServingSummary />\n    </div>\n  </div>\n)","import { connect } from \"react-redux\";\nimport { calorieDifferenceSelector } from \"../../app/selectors\";\nimport { RootState } from \"../../app/store\";\nimport { CalorieSummary } from \"../../components/summary/CalorieSummary\";\n\nconst mapStateToProps = (state: RootState) => ({\n  calories: calorieDifferenceSelector(state),\n})\n\nexport default connect(mapStateToProps)(CalorieSummary);","import { connect } from \"react-redux\";\nimport { servingDifferenceSelector } from \"../../app/selectors\";\nimport { RootState } from \"../../app/store\";\nimport { ServingSummary } from \"../../components/summary/ServingSummary\";\n\nconst mapStateToProps = (state: RootState) => ({\n  serving: servingDifferenceSelector(state),\n})\n\nexport default connect(mapStateToProps)(ServingSummary);","import CalorieDifference from \"../../features/summary/CalorieDifference\";\nimport ServingDifference from \"../../features/summary/ServingDifference\";\n\nexport const DifferenceSummary = () => {\n  return (\n    <div className=\"d-flex\">\n      <CalorieDifference />\n      <div className=\"flex-fill\">\n        <ServingDifference />\n      </div>\n    </div>\n  )\n}","import { Tab, Tabs } from \"react-bootstrap\";\nimport { CalorieServingSummary } from \"../summary/CalorieServingSummary\";\nimport { DifferenceSummary } from \"../summary/DifferenceSummary\";\n\nexport const Summary = () => (\n  <div className=\"border rounded p-1\">\n    <Tabs defaultActiveKey=\"total\" id=\"tab-summary\" variant=\"pills\">\n      <Tab eventKey=\"total\" title=\"Total\">\n        <CalorieServingSummary />\n      </Tab>\n      <Tab eventKey=\"difference\" title=\"Difference\">\n        <DifferenceSummary />\n      </Tab>\n    </Tabs>\n  </div>\n);\n","import { connect } from \"react-redux\";\nimport { mealStatesSelector } from \"../../app/selectors\";\nimport { RootState } from \"../../app/store\";\nimport { EditableDayPage } from \"../../components/day-page/EditableDayPage\";\n\nconst mapStateToProps = (state: RootState) => ({\n  mealStates: mealStatesSelector(state),\n})\n\nexport default connect(mapStateToProps)(EditableDayPage);","import _ from \"lodash\";\nimport AddMealButton from \"../../features/day-page/AddMealButton\";\nimport Header from \"../../features/day-page/Header\";\nimport { MealState } from \"../../features/day-page/mealStatesSlice\";\nimport { Footer } from \"../Footer\";\nimport { EditableMealCard } from \"../meal-card/EditableMealCard\";\nimport { Summary } from \"./Summary\";\n\nexport const EditableDayPage = (props: { mealStates: MealState[]; }) => (\n  <div>\n    <Header />\n    <Summary />\n\n    {_.map(props.mealStates, (mealState, index) => (\n      <EditableMealCard\n        key={index}\n        mealIndex={index}\n        state={mealState} />\n    ))}\n    <div className=\"p-2\"><AddMealButton /></div>\n    <Footer />\n  </div>\n);\n","import { Card, ListGroup } from \"react-bootstrap\";\nimport { Meal } from \"../../model/Food\";\nimport { FoodItem } from \"../FoodItem\";\nimport MealCalorieServingPanel from \"../../features/meal-card/MealCalorieServingPanel\";\n\nexport const UneditableMealCard = (props: { meal: Meal; }) => {\n  const { meal } = props;\n  const { mealTime, foods } = meal;\n\n  return (\n    <Card className=\"mt-1\">\n      <Card.Header className=\"d-flex flex-wrap align-items-center\">\n        <div className=\"flex-fill\">{mealTime}</div>\n        <MealCalorieServingPanel meal={meal} />\n      </Card.Header>\n\n      <ListGroup>\n        {foods.map((food, index) => <ListGroup.Item key={index}>\n          <FoodItem food={food} />\n        </ListGroup.Item>\n        )}\n      </ListGroup>\n    </Card>\n  );\n};\n","import { connect } from \"react-redux\";\nimport { mealsSelector } from \"../../app/selectors\";\nimport { RootState } from \"../../app/store\";\nimport { UneditableDayPage } from \"../../components/day-page/UneditableDayPage\";\n\nconst mapStateToProps = (state: RootState) => ({\n  meals: mealsSelector(state),\n})\n\nexport default connect(mapStateToProps)(UneditableDayPage);","import _ from \"lodash\";\nimport Header from \"../../features/day-page/Header\";\nimport { Meal } from \"../../model/Food\";\nimport { Footer } from \"../Footer\";\nimport { UneditableMealCard } from \"../meal-card/UneditableMealCard\";\nimport { Summary } from \"./Summary\";\n\nexport const UneditableDayPage = (props: { meals: Meal[]; }) => (\n  <div>\n    <Header />\n    <Summary />\n\n    {_.map(props.meals, (meal, index) => (\n      <UneditableMealCard\n        key={index}\n        meal={meal} />\n    ))}\n\n    <Footer />\n  </div>\n);\n","import { connect } from \"react-redux\";\nimport { editModeSelector } from \"../../app/selectors\";\nimport { RootState } from \"../../app/store\";\nimport { DayPage } from \"../../components/day-page/DayPage\";\n\nconst mapStateToProps = (state: RootState) => ({\n  editMode: editModeSelector(state),\n})\n\nexport default connect(mapStateToProps)(DayPage);","import EditableDayPage from \"../../features/day-page/EditableDayPage\";\nimport UneditableDayPage from \"../../features/day-page/UneditableDayPage\";\n\nexport const DayPage = (props: { editMode: boolean }) => (\n  props.editMode ? <EditableDayPage /> : <UneditableDayPage />\n)","import { Container } from \"react-bootstrap\";\nimport DayPage from \"./features/day-page/DayPage\";\n\nfunction App() {\n\n  return (\n    <Container>\n      <DayPage />\n    </Container>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { combineReducers } from \"redux\";\nimport date from \"../features/day-page/dateSlice\";\nimport editMode from \"../features/day-page/editModeSlice\";\nimport mealStates from \"../features/day-page/mealStatesSlice\";\nimport editTarget from \"../features/target/editTargetSlice\";\nimport target from \"../features/target/targetSlice\";\n\nexport default combineReducers(\n  {\n    date,\n    mealStates,\n    editMode,\n    target,\n    editTarget,\n  }\n)\n","import { configureStore } from '@reduxjs/toolkit';\nimport _ from 'lodash';\nimport { loadState, saveState } from './localStorage';\nimport reducer from './reducers';\n// ...\n\nconst persistedState = loadState();\nexport const store = configureStore({\n  reducer,\n  preloadedState: persistedState,\n})\n\nstore.subscribe(_.throttle(() => {\n  saveState(store.getState());\n}, 1000));\n\n// Infer the `RootState` and `AppDispatch` types from the store itself\nexport type RootState = ReturnType<typeof store.getState>\n// Inferred type: {posts: PostsState, comments: CommentsState, users: UsersState}\nexport type AppDispatch = typeof store.dispatch\n\nexport default store","import { RootState } from \"./store\";\n\nexport const loadState = () => {\n  try {\n    const serializedState = localStorage.getItem('state');\n    if (serializedState === null) {\n      return undefined;\n    }\n    return JSON.parse(serializedState);\n  } catch (err) {\n    return undefined;\n  }\n};\n\nexport const saveState = (state: RootState) => {\n  try {\n    const serializedState = JSON.stringify(state);\n    localStorage.setItem('state', serializedState);\n  } catch {\n    // ignore write errors\n  }\n};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport { Provider } from \"react-redux\";\nimport store from \"./app/store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","//\n/* Copyright (c) 2012-2017 The ANTLR Project. All rights reserved.\n * Use of this file is governed by the BSD 3-clause license that\n * can be found in the LICENSE.txt file in the project root.\n */\n//\n\nfunction CaseChangingStream(stream, upper) {\n\tthis._stream = stream;\n\tthis._upper = upper;\n}\n\nCaseChangingStream.prototype.LA = function(offset) {\n\tvar c = this._stream.LA(offset);\n\tif (c <= 0) {\n\t\treturn c;\n\t}\n\treturn String.fromCodePoint(c)[this._upper ? \"toUpperCase\" : \"toLowerCase\"]().codePointAt(0);\n};\n\nCaseChangingStream.prototype.reset = function() {\n\treturn this._stream.reset();\n};\n\nCaseChangingStream.prototype.consume = function() {\n\treturn this._stream.consume();\n};\n\nCaseChangingStream.prototype.LT = function(offset) {\n\treturn this._stream.LT(offset);\n};\n\nCaseChangingStream.prototype.mark = function() {\n\treturn this._stream.mark();\n};\n\nCaseChangingStream.prototype.release = function(marker) {\n\treturn this._stream.release(marker);\n};\n\nCaseChangingStream.prototype.seek = function(_index) {\n\treturn this._stream.seek(_index);\n};\n\nCaseChangingStream.prototype.getText = function(start, stop) {\n\treturn this._stream.getText(start, stop);\n};\n\nCaseChangingStream.prototype.toString = function() {\n\treturn this._stream.toString();\n};\n\nObject.defineProperty(CaseChangingStream.prototype, \"index\", {\n\tget: function() {\n\t\treturn this._stream.index;\n\t}\n});\n\nObject.defineProperty(CaseChangingStream.prototype, \"size\", {\n\tget: function() {\n\t\treturn this._stream.size;\n\t}\n});\n\nexports.CaseChangingStream = CaseChangingStream;"],"sourceRoot":""}